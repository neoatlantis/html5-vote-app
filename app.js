(()=>{var t={187:t=>{"use strict";var e,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(n,i){function s(n){t.removeListener(e,o),i(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",s),n([].slice.call(arguments))}f(t,e,o,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&f(t,"error",e,{once:!0})}(t,s)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var r=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function c(t,e,n,i){var s,o,r,c;if(a(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),r=o[e]),void 0===r)r=o[e]=n,++t._eventsCount;else if("function"==typeof r?r=o[e]=i?[n,r]:[r,n]:i?r.unshift(n):r.push(n),(s=l(t))>0&&r.length>s&&!r.warned){r.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+r.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=r.length,c=h,console&&console.warn&&console.warn(c)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},s=h.bind(i);return s.listener=n,i.wrapFn=s,s}function d(t,e,n){var i=t._events;if(void 0===i)return[];var s=i[e];return void 0===s?[]:"function"==typeof s?n?[s.listener||s]:[s]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(s):p(s,s.length)}function _(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}function f(t,e,n,i){if("function"==typeof t.on)i.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function s(o){i.once&&t.removeEventListener(e,s),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");r=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var s="error"===t,o=this._events;if(void 0!==o)s=s&&void 0===o.error;else if(!s)return!1;if(s){var r;if(e.length>0&&(r=e[0]),r instanceof Error)throw r;var a=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw a.context=r,a}var l=o[t];if(void 0===l)return!1;if("function"==typeof l)i(l,this,e);else{var c=l.length,h=p(l,c);for(n=0;n<c;++n)i(h[n],this,e)}return!0},o.prototype.addListener=function(t,e){return c(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return c(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,u(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,u(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,i,s,o,r;if(a(e),void 0===(i=this._events))return this;if(void 0===(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){r=n[o].listener,s=o;break}if(s<0)return this;0===s?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,s),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,r||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var s,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(s=o[i])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},o.prototype.listeners=function(t){return d(this,t,!0)},o.prototype.rawListeners=function(t){return d(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):_.call(t,e)},o.prototype.listenerCount=_,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},83:function(t,e,n){var i;void 0===(i=function(){"use strict";function e(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){a(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function s(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,r=/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(t,n,r){var a=o.URL||o.webkitURL,l=document.createElement("a");n=n||t.name||"download",l.download=n,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?s(l):i(l.href)?e(t,n,r):s(l,l.target="_blank")):(l.href=a.createObjectURL(t),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){s(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,o){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),n);else if(i(t))e(t,n,o);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout((function(){s(r)}))}}:function(t,n,i,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,i);var a="application/octet-stream"===t.type,l=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&l||r)&&"undefined"!=typeof FileReader){var h=new FileReader;h.onloadend=function(){var t=h.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=t:location=t,s=null},h.readAsDataURL(t)}else{var u=o.URL||o.webkitURL,d=u.createObjectURL(t);s?s.location=d:location.href=d,s=null,setTimeout((function(){u.revokeObjectURL(d)}),4e4)}});o.saveAs=a.saveAs=a,t.exports=a}.apply(e,[]))||(t.exports=i)},587:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i={SCALE_FACTOR:3.125,RESOURCE_ICON_TILE_SIZE:1e3,BACKGROUND_SWITCH_DURATION:1e3,MENU_CHOICES_SCROLL_SPEED_DIVISION:4e4,MENU_CHOICES_PER_ROW:3,MENU_CHOICE_OSC_A_TO_W:.0509,MENU_CHOICES_MARGIN_X:.0278,MENU_CHOICES_COL_CENTER:[.213-.13425,.32875,.57875],MENU_CHOICE_WIDTH:.2685,MENU_CHOICE_ROW_HEIGHT:.2778,MENU_CHOICE_OSC_T:6e3,MENU_CHOICES_SCROLL_WIDTH:.0448,MENU_CHOICES_SCROLL_X_W:.9685,MENU_CHOICES_SCROLL_Y_H:.45,COUNTRY_HEXAGON_SIZE:68,BACKGROUND_BAR_N:4,RESULT_HEADER_HEIGHT_WIDTH_RATIO:.5,RESULT_ICONS_PER_ROW:3,RESULT_ICONS_MARGIN_TO_CANVAS_WIDTH:.05,RESULT_ICON_ROW_HEIGHT_TO_GRID_SIZE:1.35,RESULT_ICON_SIZE_TO_GRID_SIZE:.9,RESULT_LONG_PRESS_SAVE_TIME:1e3}},309:(t,e,n)=>{const i=n(187),s={},o=["canvas","stage1","stage2","stage3","stage4"];for(let t of o)s[t]=new i.EventEmitter;t.exports=function(t){return s[t]}},930:(t,e,n)=>{"use strict";n.r(e),n.d(e,{assure_loaded:()=>a,get_font:()=>h,get_image:()=>l,images:()=>s});var i=n(328);const s={countries_bg:{path:"./images/3/countries_bg.png",size:2533751},countries_flags:{path:"./images/3/countries_flags.png",size:206600},countries_glow:{path:"./images/3/countries_glow.png",size:640029},intro_button:{path:"./images/1/intro_button.png",size:31900},intro_title:{path:"./images/1/intro_title.png",size:219419},intro_slogan:{path:"./images/1/intro_slogan.png",size:33302},intro_button_pressed:{path:"./images/1/intro_button_pressed.png",size:37442},intro_stars:{path:"./images/1/intro_stars.png",size:35788},share_pattern_screen:{path:"./images/5/share_pattern_screen.png",size:480034},share_base_header:{path:"./images/5/share_base_header.png",size:70349},share_top_header:{path:"./images/5/share_top_header.png",size:91579},share_base:{path:"./images/5/share_base.png",size:4859},share_flags:{path:"./images/5/share_flags.png",size:311763},share_top_footer:{path:"./images/5/share_top_footer.png",size:66921},share_base_footer:{path:"./images/5/share_base_footer.png",size:57218},bgcolor:{path:"./images/0/bgcolor.png",size:5241},hex_bold:{path:"./images/0/hex_bold.png",size:493694},hex_thin:{path:"./images/0/hex_thin.png",size:223783},glow:{path:"./images/0/glow.png",size:965977},donebutton_pressed:{path:"./images/0/donebutton_pressed.png",size:3224},donebutton:{path:"./images/0/donebutton.png",size:3732},choices_10x10:{path:"./images/2/choices_10x10.png",size:8870636},choices_header:{path:"./images/2/choices_header.png",size:57826},choices_hint:{path:"./images/2/choices_hint.png",size:3302},choices_delete:{path:"./images/2/choices_delete.png",size:6605},choices_scroll:{path:"./images/2/choices_scroll.png",size:3182}};console.log(s);const o={};async function r(t){let e=await fetch(s[t].path+"?_="+Math.random()),n=await e.blob(),r=await new Promise(((t,e)=>{let i=new FileReader;i.readAsDataURL(n),i.onload=()=>t(i.result)})),a=await async function(t){return new Promise(((e,n)=>{let i=new Image;i.onload=()=>e(i),i.onerror=n,i.src=t}))}(r);try{if(!i.Z.compatibility.createImageBitmapSupport())throw console.warn("createImageBitmap() unsupported.",navigator.userAgent),Error();console.log("Use createImageBitmap() to accelerate."),o[t]=await createImageBitmap(a)}catch(e){o[t]=a}}async function a(t){return new Promise(((e,n)=>{function i(t){let e=0;for(let n of t)e+=s[n].size;return e}!function n(){const r=i(Object.keys(s));let a=i(Object.keys(o));try{t(parseInt(a/r*100))}catch(t){}a!=r?(console.log("not all loaded"),setTimeout(n,1e3)):e()}()}))}async function l(t){return await a(),o[t]}!async function(){let t=[];for(let e in s)t.push(r(e));await Promise.all(t)}();const c={};async function h(t,e){if(void 0!==c[t])return await i.Z.until((()=>!0!==c[t])),c[t];c[t]=!0;let n=new FontFace(t,"url("+e+")");return await n.load(),document.fonts.add(n),c[t]=n,c[t]}h("font_main","./data/main_font.ttf"),h("font_name","./data/name_font.ttf")},328:(t,e,n)=>{"use strict";n.d(e,{Z:()=>g});var i=n(587),s=n(309),o=n.n(s);const r={Sin:class{constructor(t){this.period=Math.round(t),this.cache=new Float64Array(this.period);for(let t=0;t<this.period;t++)this.cache[t]=Math.sin(t/this.period*2*Math.PI)}of(t){return this.cache[Math.round(t)%this.period]}},Decay:class{constructor(t){this.T0_5=Math.round(t),this.cache=new Float64Array(10*this.T0_5);for(let t=0;t<this.cache.length;t++)this.cache[t]=Math.pow(2,-t/this.T0_5)}of(t){return(t=Math.round(t))<this.cache.length?this.cache[t]:0}}},a={createImageBitmapSupport:function(){if(void 0===window.createImageBitmap)return!1;const t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),e=/(iPhone)/i.test(navigator.userAgent),n=/(chrome)/i.test(navigator.userAgent);return!t&&(!e||n)}};var l=function(t,e){this.x=t,this.y=e},c=function(t,e,n){this.x=t,this.y=e,this.r=n};function h(t,e){var n=(t.x+e.x)/2,i=(t.y+e.y)/2,s=p(n,i,t.x,t.y),o=p(n,i,e.x,e.y);return new c(n,i,Math.max(s,o))}function u(t,e,n){var i=(Math.min(t.x,e.x,n.x)+Math.max(t.x,e.x,n.x))/2,s=(Math.min(t.y,e.y,n.y)+Math.max(t.y,e.y,n.y))/2,o=t.x-i,r=t.y-s,a=e.x-i,l=e.y-s,h=n.x-i,u=n.y-s,d=2*(o*(l-u)+a*(u-r)+h*(r-l));if(0==d)return null;var _=i+((o*o+r*r)*(l-u)+(a*a+l*l)*(u-r)+(h*h+u*u)*(r-l))/d,f=s+((o*o+r*r)*(h-a)+(a*a+l*l)*(o-h)+(h*h+u*u)*(a-o))/d,g=p(_,f,t.x,t.y),m=p(_,f,e.x,e.y),v=p(_,f,n.x,n.y);return new c(_,f,Math.max(g,m,v))}function d(t,e){return null!==t&&p(e.x,e.y,t.x,t.y)<=1.00000000000001*t.r}function _(t,e,n,i,s,o){return(n-t)*(o-e)-(i-e)*(s-t)}function p(t,e,n,i){return Math.hypot(t-n,e-i)}"hypot"in Math||(Math.hypot=function(t,e){return Math.sqrt(t*t+e*e)});const f=function(t){return function(t){for(var e=t.slice(),n=t.length-1;n>=0;n--){var i=Math.floor(Math.random()*(n+1));i=Math.max(Math.min(i,n),0);var s=e[n];e[n]=e[i],e[i]=s}var o=null;return e.forEach((function(t,n){null!==o&&d(o,t)||(o=function(t,e){var n=new c(e.x,e.y,0);return t.forEach((function(i,s){d(n,i)||(n=0==n.r?h(e,i):function(t,e,n){for(var i=h(e,n),s=null,o=null,r=0,a=t;r<a.length;r++){var l=a[r];if(!d(i,l)){var c=_(e.x,e.y,n.x,n.y,l.x,l.y),p=u(e,n,l);null!==p&&(c>0&&(null===s||_(e.x,e.y,n.x,n.y,p.x,p.y)>_(e.x,e.y,n.x,n.y,s.x,s.y))?s=p:c<0&&(null===o||_(e.x,e.y,n.x,n.y,p.x,p.y)<_(e.x,e.y,n.x,n.y,o.x,o.y))&&(o=p))}}if(null===s&&null===o)return i;if(null===s&&null!==o)return o;if(null!==s&&null===o)return s;if(null!==s&&null!==o)return s.r<=o.r?s:o;throw new Error("Assertion error")}(t.slice(0,s+1),e,i))})),n}(e.slice(0,n+1),t))})),o}(t.map((t=>new l(t[0],t[1]))))},g={setup_canvas:function(t,e,n){if(!e||!n){const i=t.getBoundingClientRect();e=i.width,n=i.height}t.style.width=e+"px",t.style.height=n+"px",t.width=Math.ceil(e*i.Z.SCALE_FACTOR),t.height=Math.ceil(n*i.Z.SCALE_FACTOR),function(t){const e=o()("canvas");t.ontouchstart=t=>{e.emit("touchstart",t)},t.ontouchmove=t=>{e.emit("touchmove",t)},t.ontouchend=t=>{e.emit("touchend",t)}}(t)},until:(t,e=1e3)=>{try{return t()?Promise.resolve(!0):new Promise(((n,i)=>{const s=setInterval((()=>{try{t()&&(clearInterval(s),n(!0))}catch(t){clearInterval(s),i(t)}}),e)}))}catch(t){return Promise.reject(t)}},random_range:function(t,e){return Math.random()*(e-t)+t},math:r,compatibility:a,CanvasGestureTracker:class{constructor(){this.points=[],this.starttime=null,this.endtime=null,this.down=!1}register_down(t,e){this.starttime=(new Date).getTime(),this.points.push([t,e,this.starttime,{down:!this.down}])}register_move(t,e){this.points.push([t,e,(new Date).getTime(),{}]);let n=this._dist(this.points.slice(-1)[0],this.points.slice(-2)[0]);return{delta_x:n[0],delta_y:n[1],delta_t:n[2]}}register_up(t,e){this.endtime=(new Date).getTime(),this.points.push([t,e,this.endtime,{down:!this.down}])}_dist(t,e){return[e[0]-t[0],e[1]-t[1],e[2]-t[2]]}result(){let t=this._dist(this.points.slice(-1)[0],this.points[0]);return{current_down:this.down,duration:0,distance:2*f(this.points).r,delta_x:t[0],delta_y:t[1],delta_t:t[2]}}}}},744:(t,e)=>{"use strict";e.Z=(t,e)=>{const n=t.__vccOpts||t;for(const[t,i]of e)n[t]=i;return n}}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t=0;function e(){return t++}var i=0;function s(){return i++}const o=[{id:e(),pos:s(),text:"2017 年进群"},{id:e(),pos:s(),text:"经历过 G+ 时代"},{id:e(),pos:s(),text:"记得 20 个群友外号"},{id:e(),pos:s(),text:"去过 5 个群友的城市"},{id:e(),pos:s(),text:"半夜出门刷 Po"},{id:e(),pos:s(),text:"遭遇火车祥瑞"},{id:e(),pos:s(),text:"会讲玉兰语"},{id:e(),pos:s(),text:"被某安画进漫画"},{id:e(),pos:s(),text:"成为群管理员"},{id:e(),pos:s(),text:"喜欢的话题找到同好"},{id:e(),pos:s(),text:"和群友起八"},{id:e(),pos:s(),text:"10 人以上大型开饭"},{id:e(),pos:s(),text:"和群友喝酒"},{id:e(),pos:s(),text:"和初次见面的群友拼房"},{id:e(),pos:s(),text:"和群旗合影"},{id:e(),pos:s(),text:"互寄明信片"},{id:e(),pos:s(),text:"一起连麦吹水"},{id:e(),pos:s(),text:"联机打游戏"},{id:e(),pos:s(),text:"和群友交换纪念 Key"},{id:e(),pos:s(),text:"和群友交易物资"},{id:e(),pos:s(),text:"制作自己的 biocard"},{id:e(),pos:s(),text:"各种外语都学一点"},{id:e(),pos:s(),text:"吃德国名菜 McRib"},{id:e(),pos:s(),text:"在科隆户外烧烤"},{id:e(),pos:s(),text:"在阿姆吃排骨"},{id:e(),pos:s(),text:"在西班牙吃海鲜饭"},{id:e(),pos:s(),text:"吃遍各国中餐馆"},{id:e(),pos:s(),text:"约饭牌达到白金"},{id:e(),pos:s(),text:"参观鸮博物馆"},{id:e(),pos:s(),text:"给鸭梨家刷好评"},{id:e(),pos:s(),text:"文明观熊"},{id:e(),pos:s(),text:"一起蹲夏/冬令时"},{id:e(),pos:s(),text:"一起跨年"},{id:e(),pos:s(),text:"在很冷门的事上“群二”"},{id:e(),pos:s(),text:"在群友家蹭住"},{id:e(),pos:s(),text:"团购官方周边"},{id:e(),pos:s(),text:"到剧情相关地标打卡"},{id:e(),pos:s(),text:"和当地特工交朋友"},{id:e(),pos:s(),text:"出国活动当天往返"},{id:e(),pos:s(),text:"火车上写作业"},{id:e(),pos:s(),text:"旧版 Scanner 留了很久"},{id:e(),pos:s(),text:"在 Kaltenberg 搬砖"},{id:e(),pos:s(),text:"乘坐王师傅专车"},{id:e(),pos:s(),text:"挑战 GORUCK Stealth"},{id:e(),pos:s(),text:"参加 OCF 捡垃圾"},{id:e(),pos:s(),text:"集齐 GORUCK 三件套"},{id:e(),pos:s(),text:"组团刷 Mission Day"},{id:e(),pos:s(),text:"Mission Day 制霸"},{id:e(),pos:s(),text:"和群友组队打 Anomaly"},{id:e(),pos:s(),text:"赢得一场 Anomaly"},{id:e(),pos:s(),text:"参加官方 After Party"},{id:e(),pos:s(),text:"见到 NPC"},{id:e(),pos:s(),text:"一起追 NL-1331"},{id:e(),pos:s(),text:"找到 Deaddrop"},{id:e(),pos:s(),text:"参与一次大新闻"},{id:e(),pos:s(),text:"照片登上官方报道"},{id:e(),pos:s(),text:"在活动中受伤"},{id:e(),pos:s(),text:"出去玩遗失物品"},{id:e(),pos:s(),text:"向群友学习旅行攻略"},{id:e(),pos:s(),text:"欧洲地图了然于胸"},{id:e(),pos:s(),text:"见过完好的巴黎圣母院"},{id:e(),pos:s(),text:"放群友鸽子"},{id:e(),pos:s(),text:"极限赶车成功"},{id:e(),pos:s(),text:"穿越英吉利海峡"},{id:e(),pos:s(),text:"乘坐通宵大巴"},{id:e(),pos:s(),text:"在 Ingress 护照上盖章/和群友+10分"},{id:e(),pos:s(),text:"把大群旗带回家"},{id:e(),pos:s(),text:"参加线上 IFS"},{id:e(),pos:s(),text:"玩 PPT 卡拉 OK"},{id:e(),pos:s(),text:"IFS 拿过 0 AP"},{id:e(),pos:s(),text:"因错过活动而遗憾"},{id:e(),pos:s(),text:"满级重生"},{id:e(),pos:s(),text:"单独见群友错过约饭牌"},{id:e(),pos:s(),text:"收群友的二手货"},{id:e(),pos:s(),text:"在公众号发表文章"},{id:e(),pos:s(),text:"购买 CSAE 周边"},{id:e(),pos:s(),text:"做过谈笑风生嘉宾"},{id:e(),pos:s(),text:"和群友讨论学术"},{id:e(),pos:s(),text:"吃鳗鱼饭时拍照发群里"},{id:e(),pos:s(),text:"一起放风筝"},{id:e(),pos:s(),text:"一起看世界杯"},{id:e(),pos:s(),text:"吃过群友家的饭菜"},{id:e(),pos:s(),text:"一起买家庭会员"},{id:e(),pos:s(),text:"开好友房打麻将"},{id:e(),pos:s(),text:"一起玩 Gamee 小游戏"},{id:e(),pos:s(),text:"一起去看海"},{id:e(),pos:s(),text:"薅铁路与航司羊毛"},{id:e(),pos:s(),text:"聚会时不开Ingress"},{id:e(),pos:s(),text:"悄悄喜欢群友"},{id:e(),pos:s(),text:"给群友或自己过生日"},{id:e(),pos:s(),text:"在社交网站上关注群友"},{id:e(),pos:s(),text:"拥有 CSAE 群卡"},{id:e(),pos:s(),text:"向外国友人介绍 CSAE"},{id:e(),pos:s(),text:"保存群友的黑历史"},{id:e(),pos:s(),text:"一起玩 Wordle"},{id:e(),pos:s(),text:"收到群友送的礼物"},{id:e(),pos:s(),text:"拥有看图识字表情包"},{id:e(),pos:s(),text:"疫情期间线下见面"},{id:e(),pos:s(),text:"会认不同国家的欧元/一起去爬山"},{id:e(),pos:s(),text:"记得 CSAE 周年纪念日"}],r={冰岛is:[327,211],葡萄牙pt:[538,1633],爱尔兰ie:[585,862],法罗群岛fo:[706,380],直布罗陀gi:[706,1794],马恩岛im:[780,856],西班牙es:[923,1585],英国gb:[942,914],塞浦路斯cy:[2735,1842],科索沃xk:[2090,1480],拉脱维亚lv:[2211,592],阿尔巴尼亚al:[2011,1614],北马其顿mk:[2173,1594],梵蒂冈va:[1718,1572],黑山me:[1944,1486],摩尔多瓦md:[2481,1203],马耳他mt:[1706,1827],罗马尼亚ro:[2313,1287],乌克兰ua:[2375,1045],波兰pl:[1895,880],摩纳哥mc:[1281,1423],俄罗斯ru:[2643,581],奥地利at:[1643,1159],希腊gr:[2258,1732],芬兰fi:[2215,379],斯洛伐克sk:[1961,1111],瑞典se:[1785,569],挪威no:[1469,478],卢森堡lu:[1312,1063],荷兰nl:[1301,846],爱沙尼亚ee:[2371,508],圣马力诺sm:[1645,1403],立陶宛lt:[2283,735],列支敦士登li:[1501,1133],安道尔ad:[1064,1467],匈牙利hu:[2088,1204],丹麦dk:[1518,667],瑞士ch:[1391,1225],白俄罗斯by:[2450,831],克罗地亚hr:[1844,1222],土耳其tr:[2540,1648],斯洛文尼亚si:[1711,1285],比利时be:[1213,956],意大利it:[1498,1327],塞尔维亚rs:[2029,1354],保加利亚bg:[2276,1465],波黑ba:[1864,1367],德国de:[1537,889],捷克cz:[1747,1043],法国fr:[1154,1147]},a="ad,al,at,ba,be,bg,by,ch,cy,cz,de,dk,ee,es,fi,fo,fr,gb,gi,gr,hr,hu,ie,im,is,it,li,lt,lu,lv,mc,md,me,mk,mt,nl,no,pl,pt,ro,rs,ru,se,si,sk,sm,tr,ua,va,xk".split(",");var l=n(587),c=n(930);class h{constructor(t,e){this.canvas=t,this.bgimg=e,this.ctx=this.canvas.getContext("2d"),this.unit_height=this.bgimg.height/l.Z.BACKGROUND_BAR_N,this.scale_factor=this.canvas.height/this.unit_height,this.src_y_offset=0,this.current_n=0,this.animating_offset=0,this.animating_duration=l.Z.BACKGROUND_SWITCH_DURATION,this.animating_step=0,this.animating_target_y=this.current_n*this.unit_height,console.log("unit heihgt",this.unit_height)}jump_to_stage(t){this.src_y_offset=this.unit_height*t}scroll_to_stage(t){this.animating_offset=(new Date).getTime(),this.animating_step=(t-this.current_n)*this.unit_height/this.animating_duration,this.animating_target_y=t*this.unit_height,this.current_n=t,console.log("bg scroll args:",this.animating_offset,this.animating_step,this.animating_target_y,this.current_n)}get_y(){const t=(new Date).getTime();return this.animating_elapsed=t-this.animating_offset,this.animating_elapsed<this.animating_duration?this.src_y_offset+this.animating_elapsed*this.animating_step:(this.src_y_offset=this.animating_target_y,this.src_y_offset)}}var u=n(328);class d{constructor(t){const e=this;this.stop=!1,this.last_t=!1,this.draw=function(n){let i=!1===e.last_t?0:n-e.last_t;e.last_t=n,t.call(this,n,i)||(e.stop=!0)}}reset(){this.stop=!1,this.last_t=!1}}window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;class _{constructor(t,e){if(!(e instanceof d))throw Error("An instance of AnimationImplementation expected.");this.animation_this=t,this.animation=e;const n=this;n.__frame=function t(e){n.animation.stop=!1,n.animation.draw.call(n.animation_this,e),n.animation.stop||(n.__frame_id=window.requestAnimFrame(t))}}start(){this.__frame_id=window.requestAnimFrame(this.__frame)}stop(){this.animation.stop=!0,this.__frame_id&&window.cancelAnimationFrame(this.__frame_id)}}const p=n(309),f=class{constructor(t){this.canvas=t,this._setup_canvas(),this.ctx=this.canvas.getContext("2d"),this.flag_animation_playing=!1,this.flag_exit_animation_done=!1,this.flag_destroyed=!1,setTimeout((()=>this.bind_events()),0)}_setup_canvas(t,e){if(!t||!e){const n=this.canvas.getBoundingClientRect();t=n.width,e=n.height}this.canvas.style.width=t+"px",this.canvas.style.height=e+"px",this.canvas.width=Math.ceil(t*l.Z.SCALE_FACTOR),this.canvas.height=Math.ceil(e*l.Z.SCALE_FACTOR)}_play_exit_animation(){this.flag_exit_animation_done||(requestAnimationFrame((t=>{this.exit_animation_frame(t)||(this.flag_exit_animation_done=!0)})),setTimeout((()=>this._play_exit_animation()),0))}start_animation(){this.flag_animation_playing=!0,this.starttime=(new Date).getTime(),this._animation=new d(this.animation_frame),this._animation_player=new _(this,this._animation),this._animation_player.start()}async stop_animation(){this.flag_animation_playing=!1,this._animation_player&&this._animation_player.stop()}animation_frame(){throw Error("Must override this.")}exit_animation_frame(){return!1}ctx_reset_transform(){this.ctx.setTransform(1,0,0,1,0,0)}ctx_reset_filter(){this.ctx.filter="none"}ctx_clearall(){this.ctx.setTransform(1,0,0,1,0,0),this.ctx.filter="none",this.ctx.globalAlpha=1,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}ctx_drawImage(t,e,n,i,s,o){o||this.ctx.setTransform(i,0,0,i,e,n),this.ctx.rotate(s),this.ctx.drawImage(t,-t.width/2,-t.height/2)}ctx_drawImageCenter(t,e,n,i,s,o,r,a){a||this.ctx.setTransform(o,0,0,o,e,n),this.ctx.rotate(r),this.ctx.drawImage(t,-i,-s)}bind_events(t){}async destroy(){p("canvas").removeAllListeners(),await this.stop_animation(),this.flag_exit_animation_done=!1,this.starttime=(new Date).getTime(),this._play_exit_animation(),await u.Z.until((()=>this.flag_exit_animation_done),10),this.flag_destroyed=!0}},g=[];var m=120;function v(t,e){for(this.x=t,this.y=e,this.coordinates=[],this.coordinateCount=5;this.coordinateCount--;)this.coordinates.push([this.x,this.y]);this.angle=u.Z.random_range(0,2*Math.PI),this.speed=u.Z.random_range(1,10)/15,this.friction=.97,this.gravity=.5/15,this.hue=u.Z.random_range(m-20,m+20),this.brightness=u.Z.random_range(50,80),this.alpha=1,this.decay=u.Z.random_range(.005,.01)/15}v.prototype.update=function(t,e,n){this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.speed*=this.friction,this.x+=Math.cos(this.angle)*this.speed*n,this.y+=Math.sin(this.angle)*this.speed*n+this.gravity*n,this.alpha-=this.decay*n,this.alpha<=this.decay&&g.splice(t,1)},v.prototype.draw=function(t){t.beginPath(),t.moveTo(this.coordinates[this.coordinates.length-1][0],this.coordinates[this.coordinates.length-1][1]),t.lineTo(this.x,this.y),t.lineWidth=10,t.strokeStyle="hsla("+m+", 100%, "+this.brightness+"%, "+this.alpha+")",t.stroke()};const y=n(309),w=n(187);class x extends w.EventEmitter{constructor({image:t,image_pressed_down:e,x0:n,y0:i,x1:s,y1:o}){super(),n<s?(this.x0=n,this.x1=s):(this.x0=s,this.x1=n),i<o?(this.y0=i,this.y1=o):(this.y0=o,this.y1=i),this.image=t,this.image_pressed_down=e,this.bind_events(),this.hold_down=!1}is_within_area(t,e){return this.x0<=t&&t<=this.x1&&this.y0<=e&&e<=this.y1}bind_events(){function t(t){let e=t.changedTouches[0];return{x:e.clientX*l.Z.SCALE_FACTOR,y:e.clientY*l.Z.SCALE_FACTOR}}y("canvas").on("touchstart",(e=>{let{x:n,y:i}=t(e);this.is_within_area(n,i)&&(this.hold_down=!0,this.emit("pressed_down",e))})),y("canvas").on("touchend",(e=>{let{x:n,y:i}=t(e),s=this.hold_down;this.hold_down=!1,this.is_within_area(n,i)&&s&&(this.emit("pressed",e),e.stopPropagation())}))}draw(t){this.hold_down&&this.image_pressed_down?t.drawImage(this.image_pressed_down,this.x0,this.y0,this.x1-this.x0,this.y1-this.y0):this.image&&t.drawImage(this.image,this.x0,this.y0,this.x1-this.x0,this.y1-this.y0)}}const b=x,C=n(309);class E extends f{constructor({canvas:t,images:e,bgcontroller:n,callback:i}){super(t),this.fwcontroller=new class{constructor(t,e){this.canvas=t,this.ctx=e}animation_frame(t,e){m+=.5,this.ctx.globalCompositeOperation="lighter";for(var n=g.length;n--;)g[n].draw(this.ctx),g[n].update(n,t,e);this.ctx.globalCompositeOperation="source-over"}add_firework(t,e){for(let n=0;n<20;n++)g.push(new v(t,e))}}(t,this.ctx),this.callback=i,this.images=e,this.bgcontroller=n,this.rot_center_x=.5*this.canvas.width,this.rot_center_y=.7*this.canvas.width,this.glow_center_x=.458*this.canvas.width,this.glow_center_y=.745*this.canvas.width,this.logo_center_x=.45*this.canvas.width,this.logo_center_y=.755*this.canvas.width,this.slogan_center_x=.5*this.canvas.width,this.slogan_center_y=.25*this.canvas.height+.87*this.canvas.width,this.button_center_x=.5*this.canvas.width,this.button_center_y=.4571*this.canvas.height+.6314*this.canvas.width,this.scale_introtitle=this.canvas.width/this.images.introtitle.width*.75,this.scale_glow=this.canvas.width/this.images.glow.width*1.583,this.scale_hex_bold=this.canvas.width/this.images["hex-bold"].width*.926,this.scale_hex_thin=this.canvas.width/this.images["hex-thin"].width*.926,this.scale_slogan=this.canvas.width/this.images.slogan.width*.6,this.scale_button=this.canvas.width/this.images.button.width*.3,this.button=new b({image:this.images.button,image_pressed_down:this.images["button-down"],x0:this.button_center_x-this.scale_button*this.images.button.width/2,y0:this.button_center_y-this.scale_button*this.images.button.height/2,x1:this.button_center_x+this.scale_button*this.images.button.width/2,y1:this.button_center_y+this.scale_button*this.images.button.height/2})}_draw_bg({stars_alpha:t=1}){const e=this.images.stars;this.ctx.drawImage(this.bgcontroller.bgimg,0,this.bgcontroller.get_y(),this.bgcontroller.bgimg.width,this.bgcontroller.unit_height,0,0,this.canvas.width,this.canvas.height),this.ctx.globalAlpha=t,this.ctx.drawImage(e,0,-this.bgcontroller.get_y(),this.canvas.width,this.canvas.width/e.width*e.height),this.ctx.globalAlpha=1}exit_animation_frame(t){void 0===this.exit_frame_t0&&(this.exit_frame_t0=t);const e=t-this.exit_frame_t0,n=l.Z.BACKGROUND_SWITCH_DURATION;return this.ctx_clearall(),this._draw_bg({stars_alpha:1-e/n}),e<l.Z.BACKGROUND_SWITCH_DURATION}animation_frame(t,e){if(!this.flag_animation_playing)return;const n=t/1e3*.8;return this.ctx_clearall(),this._draw_bg({}),this.ctx_drawImage(this.images.glow,this.glow_center_x,this.glow_center_y,this.scale_glow,0),this.ctx_reset_transform(),this.ctx_drawImage(this.images["hex-thin"],this.rot_center_x,this.rot_center_y,this.scale_hex_thin,-n),this.ctx_reset_transform(),this.ctx_drawImage(this.images["hex-bold"],this.rot_center_x,this.rot_center_y,this.scale_hex_bold,n),this.ctx_reset_transform(),this.ctx_drawImage(this.images.introtitle,this.logo_center_x,this.logo_center_y,this.scale_introtitle,0),this.ctx_reset_transform(),this.ctx_drawImage(this.images.slogan,this.slogan_center_x,this.slogan_center_y,this.scale_slogan,0),this.ctx_reset_transform(),this.button.draw(this.ctx),this.ctx_reset_transform(),!0}bind_events(){C("canvas").on("touchstart",(t=>{t.preventDefault()})),this.button.on("pressed",(t=>{this.callback(),t.preventDefault(),t.stopPropagation()}))}}const O=async function({canvas:t,callback:e,bgcontroller:n,app:i}){n.scroll_to_stage(0);const s={"hex-bold":await(0,c.get_image)("hex_bold"),"hex-thin":await(0,c.get_image)("hex_thin"),glow:await(0,c.get_image)("glow"),stars:await(0,c.get_image)("intro_stars"),introtitle:await(0,c.get_image)("intro_title"),slogan:await(0,c.get_image)("intro_slogan"),button:await(0,c.get_image)("intro_button"),"button-down":await(0,c.get_image)("intro_button_pressed")},o=new E({canvas:t,images:s,bgcontroller:n,callback:e});o.start_animation(),await u.Z.until((()=>!0===i.intro_done)),n.scroll_to_stage(1),await o.destroy()},S=n(187),T=u.Z.math;class A extends S.EventEmitter{constructor({app:t,choice_id:e,text:n,image_id:i,image_src:s,row:o,col:r,size:a,row_height:c,ctx:h,canvas_height:u,canvas_width:d}){super(),this.app=t,this.choice_id=e,this.text=n,this.image_id=i,this.image_src=s,this.image_tile_size=l.Z.RESOURCE_ICON_TILE_SIZE,this.row=o,this.col=r,this.size=a,this.row_height=d*l.Z.MENU_CHOICE_ROW_HEIGHT,this.ctx=h,this.canvas_height=u,this.osc_A=d*l.Z.MENU_CHOICE_OSC_A_TO_W,this.osc_t=0,this.osc_T=l.Z.MENU_CHOICE_OSC_T,this.osc_t0=-1,this.osc_p0=2*Math.random()*Math.PI,this.osc_reset=()=>{this.osc_t0=-1,this.osc_p0=0},this.y0=this.row*this.row_height,this.x0=d*(l.Z.MENU_CHOICES_MARGIN_X+l.Z.MENU_CHOICES_COL_CENTER[this.col]),this.sx0=Math.floor(this.image_id/10)*this.image_tile_size,this.sy0=this.image_id%10*this.image_tile_size,this.x=this.x0,this.y=this.y0,this.choosen=!1,this.animating_to_origin=!1,this.osc_sin=new T.Sin(this.osc_T)}async init(){}drawImage({delta_y0:t,t:e,dt:n}){const i=this.x0,s=this.y0+t;if(!(s+this.size<0||s>this.canvas_height)){if(this.y=s,this.osc_t0<0&&(this.osc_t0=e),this.animating_to_origin){const t=i-this.x,e=5;Math.abs(t)<e?(this.animating_to_origin=!1,this.osc_reset()):this.x+=t/10}else if(!this.choosen){const t=this.osc_A*this.osc_sin.of(this.osc_p0*this.osc_T+(e-this.osc_t0));this.x=i+t}this.ctx.drawImage(this.image_src,this.sx0,this.sy0,this.image_tile_size,this.image_tile_size,this.x,this.y,this.size,this.size)}}next({delta_y0:t,t:e,dt:n}){this.drawImage({delta_y0:t,t:e,dt:n})}handle_click(t,e){this.x<=t&&t<=this.x+this.size&&this.y<=e&&e<=this.y+this.size&&(console.log(this.text),this.app.play_touch_audio(),this.choosen=!this.choosen,this.choosen?(this.animating_to_origin=!0,this.emit("choosen")):this.osc_reset())}}const I=A,L=n(309),k=Math.floor(Math.random()*l.Z.MENU_CHOICES_PER_ROW),R=o.map((t=>Math.floor(2*Math.random()))).map((t=>t?1:-1));let M=k,U=[];for(let t=0;t<o.length;t++)M+=R[t],M<0&&(M+=l.Z.MENU_CHOICES_PER_ROW),M>=l.Z.MENU_CHOICES_PER_ROW&&(M-=l.Z.MENU_CHOICES_PER_ROW),U.push(M);let P=0;class F extends f{constructor({app:t,canvas:e,images:n,bgcontroller:i,callback:s,callback_done:r}){super(e),this.app=t,this.canvas=e,this.images=n,this.bgcontroller=i,this.callback=s,this.callback_done=r,this.scrollspeed=e.height/l.Z.MENU_CHOICES_SCROLL_SPEED_DIVISION,this.row_height=e.width*l.Z.MENU_CHOICE_ROW_HEIGHT,this.hint=new class{constructor({canvas:t,image:e}){this.canvas=t,this.ctx=t.getContext("2d"),this.image=e,this.width=.3444*t.width,this.height=e.height/e.width*this.width,this.left=.6809*t.width-this.width/2,this.top=.1995*t.width-this.height/2,this.started=!1}start(){this.started=!0}draw(t,e){if(!this.started)return;const n=this.ctx;void 0===this.t0&&(this.t0=t);const i=t-this.t0;n.globalAlpha=(t=>(1+Math.sin(1e4/(t+1e3)))/2*Math.pow(2,-t/800))(i),this.ctx.drawImage(this.image,this.left,this.top,this.width,this.height),n.globalAlpha=1}}({image:n.hint,canvas:e}),this.options_instances=o.map(((i,s)=>{let o=new I({app:t,choice_id:i.id,text:i.text,image_id:i.pos,image_src:n.options,row:s,col:U[s],size:e.width*l.Z.MENU_CHOICE_WIDTH,row_height:this.row_height,ctx:this.ctx,canvas_height:this.canvas.height,canvas_width:this.canvas.width});return o.once("choosen",(()=>{this.hint.start()})),o})),this.button_ref_x=.9685*this.canvas.width,this.button_ref_y=.875*this.canvas.height,this.scale_button=this.canvas.width/this.images.button.width*.25,this.button=new b({image:this.images.button,image_pressed_down:this.images["button-down"],x0:this.button_ref_x-this.scale_button*this.images.button.width,y0:this.button_ref_y-this.scale_button*this.images.button.height/2,x1:this.button_ref_x,y1:this.button_ref_y+this.scale_button*this.images.button.height/2}),this.physics=new class{constructor({y_upper:t,y_lower:e,y:n,speed:i}){this.y_upper=t,this.y_lower=e,this.speed=i,this.flying=!1,this.disengaged=!1,this.new_engage=!1,void 0===n&&(n=e),this.y=n}disengage(){this.disengaged=!0}engage(){this.disengaged=!1,this.new_engage=!0}analyze(){let t=Math.abs(this.y/this.y_lower-1)<1e-4,e=Math.abs(this.y/this.y_upper-1)<1e-4,n=!t&&!e&&(this.y>this.y_upper||this.y<this.y_lower);return{out_of_border:n,at_lower_border:t,at_upper_border:e,beyond_upper_border:n&&this.y>this.y_upper,below_lower_border:n&&this.y<this.y_lower}}calculate(t){if(this.disengaged)return;const{out_of_border:e,at_lower_border:n,at_upper_border:i,beyond_upper_border:s,below_lower_border:o}=this.analyze();if(this.flying){if(i||n||!e)return console.log("flew back",i,n,e,this.y,this.y_lower,this.y_upper),void(this.flying=!1);let r=0;s&&(r=this.y_upper-this.y),o&&(r=this.y_lower-this.y);let a=r*(1-Math.pow(2,-t/200));if(Math.abs(a/t)<.25*this.speed)return void(this.flying=!1);this.y+=a}else{if((s||o)&&this.new_engage)return this.flying=!0,this.new_engage=!1,console.log("move out of range, fly back"),void console.log("fly start",i,n,e,this.y,this.y_lower,this.y_upper);if(e||i){if(s)return void(this.y=this.y_upper);if(o)return void(this.y=this.y_lower)}else this.y+=t*this.speed}}add_y(t){this.y+=t}set_y(t){this.y=t}}({y_lower:-e.height/2,y_upper:this.row_height*this.options_instances.length-e.height/2,speed:this.scrollspeed,y:-e.height/2,speed2:10*this.scrollspeed}),this.physics.add_y(-e.height/2),this.delta_y0=0,this.delta_y0_scroll=!1}async init(){}_draw_bg(){this.ctx.drawImage(this.bgcontroller.bgimg,0,this.bgcontroller.get_y(),this.bgcontroller.bgimg.width,this.bgcontroller.unit_height,0,0,this.canvas.width,this.canvas.height);const t=this.canvas.width*l.Z.MENU_CHOICES_SCROLL_WIDTH,e=t/this.images.scroll.width,n=this.images.scroll.height*e;this.ctx.drawImage(this.images.scroll,this.canvas.width*l.Z.MENU_CHOICES_SCROLL_X_W-t,this.canvas.height*l.Z.MENU_CHOICES_SCROLL_Y_H-n/2,t,n)}_draw_fg(){const t=P/this.canvas.height;this.ctx.drawImage(this.bgcontroller.bgimg,0,this.bgcontroller.get_y(),this.bgcontroller.bgimg.width,this.bgcontroller.unit_height*t,0,0,this.canvas.width,P)}animation_frame(t,e){return this.physics.calculate(e),this.delta_y0=-this.physics.y,this.ctx_clearall(),this._draw_bg(),this.options_instances.forEach((n=>{n.next({delta_y0:this.delta_y0,t,dt:e})})),this.ctx_reset_filter(),this.hint.draw(t,e),this.button.draw(this.ctx),this._draw_fg(),!0}bind_events(){const t=L("canvas");function e(t,e){if(e<P)return;this.options_instances.forEach((n=>n.handle_click(t,e)));let n=this.options_instances.filter((t=>t.choosen)).map((t=>t.choice_id));try{this.callback(n)}catch(t){}}let n=null;t.on("touchstart",(t=>{this.physics.disengage(),n=new u.Z.CanvasGestureTracker;for(let e=0;e<t.changedTouches.length;e++){let i=t.changedTouches[e];n.register_down(i.clientX*l.Z.SCALE_FACTOR,i.clientY*l.Z.SCALE_FACTOR)}t.preventDefault()})),t.on("touchend",(t=>{if(this.physics.engage(100),!n)return;for(let e=0;e<t.changedTouches.length;e++){let i=t.changedTouches[e];n.register_up(i.clientX*l.Z.SCALE_FACTOR,i.clientY*l.Z.SCALE_FACTOR)}let{duration:i,distance:s,delta_t:o}=n.result(),r=t.changedTouches[0];Math.abs(s/this.canvas.width)<.05&&e.call(this,r.clientX*l.Z.SCALE_FACTOR,r.clientY*l.Z.SCALE_FACTOR),n=null,t.preventDefault()})),t.on("touchmove",(t=>{if(this.physics.disengaged&&n){for(let e=0;e<t.changedTouches.length;e++){let i=t.changedTouches[e],{delta_x:s,delta_y:o,delta_t:r}=n.register_move(i.clientX*l.Z.SCALE_FACTOR,i.clientY*l.Z.SCALE_FACTOR);this.physics.add_y(o)}t.preventDefault()}})),L("stage1").on("deselect-choice",(t=>{this.options_instances.filter((e=>e.choosen&&e.choice_id==t)).forEach((t=>t.choosen=!1))})),this.button.on("pressed",(t=>{this.app.play_touch_audio(),this.callback_done(),t.preventDefault(),t.stopPropagation()}))}}const N=async function({canvas:t,callback:e,callback_done:n,bgcontroller:i,app:s}){const o={hint:await(0,c.get_image)("choices_hint"),options:await(0,c.get_image)("choices_10x10"),scroll:await(0,c.get_image)("choices_scroll"),button:await(0,c.get_image)("donebutton"),"button-down":await(0,c.get_image)("donebutton_pressed")};console.log("#1");const r=new F({app:s,canvas:t,images:o,bgcontroller:i,callback:e,callback_done:n});console.log("#2"),r.start_animation(),console.log("#3"),await u.Z.until((()=>!0===s.choices_done)),console.log("#4"),i.scroll_to_stage(2),await r.destroy()},D=function(t){P=t*l.Z.SCALE_FACTOR},z=n(187);class Z extends z.EventEmitter{constructor({image_glow:t,text:e,x:n,y:i,size:s,controller:o}){super(),this.x0=n,this.y0=i,this.text=e,this.size=s,this.controller=o,this.image_glow=t;const r=.8660254*s;this.polygon=[[n+r,i+s/2],[n,i+s],[n-r,i+s/2],[n-r,i-s/2],[n,i-s],[n+r,i-s/2]],this.image_glow_size=2*this.size*1.3,this.choosen=!1}draw(t){this.choosen&&t.drawImage(this.image_glow,this.x0+this.controller.map_draw_x-this.image_glow_size/2,this.y0-this.image_glow_size/2,this.image_glow_size,this.image_glow_size)}is_within_area(t,e){t-=this.controller.map_draw_x;for(var n=!1,i=this.polygon,s=0,o=i.length-1;s<i.length;o=s++){var r=i[s][0],a=i[s][1],l=i[o][0],c=i[o][1];a>e!=c>e&&t<(l-r)*(e-a)/(c-a)+r&&(n=!n)}return n}handle_click(t,e){this.is_within_area(t,e)&&(this.choosen=!this.choosen,this.choosen&&this.emit("choosen",this.text))}}const j=Z,V=n(309);class H extends f{constructor({canvas:t,images:e,bgcontroller:n,callback:i,callback_done:s}){super(t);const o=this;this.canvas=t,this.images=e,this.bgcontroller=n,this.callback=i,this.callback_done=s,this.logrender=new class{constructor({canvas:t,nmax:e=4}){this.canvas=t,this.ctx=t.getContext("2d"),this._log=[],this.nmax=e,this.right=.9*t.width,this.top=.05*t.height,this.fontsize=.04*this.canvas.width,this.lineheight=1.25*this.fontsize}log(t){this._log.unshift(t),this._log.splice(this.nmax)}draw(){const t=this.ctx;t.font=`${this.fontsize}px font_main`,t.fillStyle="white",t.textAlign="right",t.textBaseline="top";let e=-.8/this._log.length;for(let n=0;n<this._log.length;n++){let i=this._log[n];t.globalAlpha=1+e*n,t.fillText(i,this.right,this.top+n*this.lineheight)}t.globalAlpha=1}}({canvas:t}),this.button_ref_x=.563*this.canvas.width,this.button_ref_y=.875*this.canvas.height,this.scale_button=this.canvas.width/this.images.button.width*.25,this.button=new b({image:this.images.button,image_pressed_down:this.images["button-down"],x0:this.button_ref_x-this.scale_button*this.images.button.width,y0:this.button_ref_y-this.scale_button*this.images.button.height/2,x1:this.button_ref_x,y1:this.button_ref_y+this.scale_button*this.images.button.height/2}),this.image_map_scale=this.canvas.height/this.images.bg.height,this.map_width=this.images.bg.width*this.image_map_scale,this.map_draw_x=this.canvas.width/2-this.map_width/2,this.country_buttons=[];for(let t in r){let e=new j({image_glow:this.images.glow,controller:this,text:t,x:r[t][0]*this.image_map_scale,y:r[t][1]*this.image_map_scale,size:l.Z.COUNTRY_HEXAGON_SIZE*this.image_map_scale});e.on("choosen",(function(){o.logrender.log(`去过${t.slice(0,-2)}`)})),this.country_buttons.push(e)}}_calc_alpha(t){void 0===this.alpha_t_count&&(this.alpha_t_count=0);let e=l.Z.BACKGROUND_SWITCH_DURATION,n=this.alpha_t_count;return this.alpha_t_count+=t,n<=e?{map_alpha:n/e,widget_alpha:n/e}:{map_alpha:1,widget_alpha:1}}_drag_map(t){const e=this.canvas.width-this.map_width;this.map_draw_x+=t,this.map_draw_x<e&&(this.map_draw_x=e),this.map_draw_x>0&&(this.map_draw_x=0)}_draw_bg(t){this.ctx.drawImage(this.bgcontroller.bgimg,0,this.bgcontroller.get_y(),this.bgcontroller.bgimg.width,this.bgcontroller.unit_height,0,0,this.canvas.width,this.canvas.height)}_draw_fg(t){let{map_alpha:e,widget_alpha:n}=this._calc_alpha(t);this.ctx.globalAlpha=e,this.ctx.drawImage(this.images.bg,0,0,this.images.bg.width,this.images.bg.height,this.map_draw_x,0,this.map_width,this.canvas.height),this.ctx.globalAlpha=n,this.country_buttons.forEach((t=>{t.draw(this.ctx)})),this.ctx.drawImage(this.images.flags,0,0,this.images.flags.width,this.images.flags.height,this.map_draw_x,0,this.map_width,this.canvas.height),this.logrender.draw(),this.button.draw(this.ctx),this.ctx.globalAlpha=1}animation_frame(t,e){return this.ctx_clearall(),this.ctx_reset_filter(),this._draw_bg(e),this._draw_fg(e),!0}bind_events(){const t=V("canvas");function e(t,e){this.country_buttons.forEach((n=>n.handle_click(t,e)));let n=this.country_buttons.filter((t=>t.choosen)).map((t=>t.text));try{this.callback(n)}catch(t){}}let n=null;t.on("touchstart",(t=>{n=new u.Z.CanvasGestureTracker;for(let e=0;e<t.changedTouches.length;e++){let i=t.changedTouches[e];n.register_down(i.clientX*l.Z.SCALE_FACTOR,i.clientY*l.Z.SCALE_FACTOR)}t.preventDefault()})),t.on("touchend",(t=>{if(!n)return;for(let e=0;e<t.changedTouches.length;e++){let i=t.changedTouches[e];n.register_up(i.clientX*l.Z.SCALE_FACTOR,i.clientY*l.Z.SCALE_FACTOR)}let{duration:i,distance:s,delta_t:o}=n.result(),r=t.changedTouches[0];Math.abs(s/this.canvas.width)<.05&&(console.log("touch press triggered"),e.call(this,r.clientX*l.Z.SCALE_FACTOR,r.clientY*l.Z.SCALE_FACTOR)),n=null,t.preventDefault()})),t.on("touchmove",(t=>{if(n){for(let e=0;e<t.changedTouches.length;e++){let i=t.changedTouches[e],{delta_x:s,delta_y:o,delta_t:r}=n.register_move(i.clientX*l.Z.SCALE_FACTOR,i.clientY*l.Z.SCALE_FACTOR);this._drag_map(-s)}t.preventDefault()}})),this.button.on("pressed",(t=>{this.callback_done(this.country_buttons.filter((t=>t.choosen)).map((t=>t.text))),t.preventDefault(),t.stopPropagation()}))}}const B=async function({canvas:t,callback:e,callback_done:n,bgcontroller:i,app:s}){const o={bg:await(0,c.get_image)("countries_bg"),flags:await(0,c.get_image)("countries_flags"),glow:await(0,c.get_image)("countries_glow"),button:await(0,c.get_image)("donebutton"),"button-down":await(0,c.get_image)("donebutton_pressed")},r=new H({canvas:t,images:o,bgcontroller:i,callback:e,callback_done:n});r.start_animation(),await u.Z.until((()=>!0===s.countries_done)),i.scroll_to_stage(3),await r.destroy()};class $ extends f{constructor({canvas:t,images:e,bgcontroller:n,callback:i}){super(t),this.callback=i,this.images=e,this.bgcontroller=n,this.rot_center_x=this.canvas.width/2,this.rot_center_y=this.canvas.height/2}_draw_bg(){this.ctx.drawImage(this.bgcontroller.bgimg,0,this.bgcontroller.get_y(),this.bgcontroller.bgimg.width,this.bgcontroller.unit_height,0,0,this.canvas.width,this.canvas.height)}exit_animation_frame(){return!1}animation_frame(t,e){const n=t/1e3*.8;return this.ctx_clearall(),this._draw_bg(),this.ctx_drawImage(this.images["hex-thin"],this.rot_center_x,this.rot_center_y,1,-n)&&this.ctx_reset_transform(),this.ctx_drawImage(this.images["hex-bold"],this.rot_center_x,this.rot_center_y,1,n)&&this.ctx_reset_transform(),this.ctx_drawImage(this.images.glow,this.rot_center_x,this.rot_center_y,1,0)&&this.ctx_reset_transform(),this.rotation+=.005,!0}bind_events(){this.canvas.ontouchstart=t=>{this.bgcontroller.scroll_to_stage(2),this.callback(),t.preventDefault()}}}const W=async function({canvas:t,callback:e,bgcontroller:n,app:i}){const s={"hex-bold":await(0,c.get_image)("hex_bold"),"hex-thin":await(0,c.get_image)("hex_thin"),glow:await(0,c.get_image)("glow")},o=new $({canvas:t,images:s,bgcontroller:n,callback:e});o.start_animation(),await u.Z.until((()=>!0===i.name_done)),await o.destroy()};function G({canvas:t,height:e}){t.getContext("2d");const n=window.innerWidth,i=e;u.Z.setup_canvas(t,n,i)}n(83);const K=async function({canvas:t,app:e,result_choices:n,result_countries:i}){const s={options:await(0,c.get_image)("choices_10x10"),flags:await(0,c.get_image)("share_flags"),base:await(0,c.get_image)("share_base"),base_footer:await(0,c.get_image)("share_base_footer"),base_header:await(0,c.get_image)("share_base_header"),pattern_screen:await(0,c.get_image)("share_pattern_screen"),top_footer:await(0,c.get_image)("share_top_footer"),top_header:await(0,c.get_image)("share_top_header")};await(0,c.get_font)("font_main","./data/main_font.ttf"),await(0,c.get_font)("font_name","./data/name_font.ttf"),G({canvas:t,height:1});const o=new class{constructor({canvas:t,images:e,choices:n,countries:i,username:s}){this.canvas=t,this.username=s,this.choices=n||[],this.countries=i?i.map((t=>t.replace(/[^a-z]/gi,""))):[],this.show_choices=this.choices.length>0,this.show_countries=this.countries.length>0,this.image_flags=e.flags,this.image_choices=e.options,this.image_header=e.top_header,this.image_footer=e.top_footer,this.scale_header=t.width/this.image_header.width,this.scale_footer=t.width/this.image_footer.width,this.dh_header=this.image_header.height*this.scale_header,this.dh_footer=this.image_footer.height*this.scale_footer,this.gap1_height=.048*t.width,this.gap2_height=.14*t.width,this.y_heights=[["header",this.dh_header],["gap0",.5864*t.width-this.dh_header]],this.show_choices&&(this.y_heights.push(["achievements",.0457*t.width]),this.y_heights.push(["gap1/1",this.gap1_height]),this.y_heights.push(["choices",this.get_choices_height()]),this.y_heights.push(["gap2/2",this.gap2_height])),this.show_countries&&(this.y_heights.push(["countries",.0457*t.width]),this.y_heights.push(["gap3/1",this.gap1_height]),this.y_heights.push(["flags",this.get_flags_height()]),this.y_heights.push(["gap4/2",this.gap2_height])),this.y_heights.push(["footer",this.dh_footer]),this.total_height=this.y_heights.reduce(((t,e)=>t+e[1]),0)}get_element_height(t){return this.y_heights.filter((e=>e[0]==t))[0][1]}get_element_offset(t){let e=0;for(let n=0;n<this.y_heights.length&&this.y_heights[n][0]!=t;n++)e+=this.y_heights[n][1];return e}get_height(){return this.total_height}get_choices_height(){return this.choice_source_tile_size=l.Z.RESOURCE_ICON_TILE_SIZE,this.choice_target_tile_size=.2213*this.canvas.width,this.choice_row_height=.2343*this.canvas.width,this.choice_row0_offset=this.get_element_offset("choices"),this.choice_col_width=.2013*this.canvas.width,this.choice_col0_offset=.1477*this.canvas.width-.5*this.choice_target_tile_size,this.choice_col_x_offset=this.choice_col_width/2,this.choice_rows=Math.ceil(this.choices.length/4),this.choice_rows*this.choice_row_height}paste_choice({ctx:t,image_id:e,row:n,col:i}){let s=Math.floor(e/10)*this.choice_source_tile_size,o=e%10*this.choice_source_tile_size,r=this.choice_row0_offset+n*this.choice_row_height,a=this.choice_col0_offset+i*this.choice_col_width;n%2!=0&&(a+=this.choice_col_x_offset),t.drawImage(this.image_choices,s,o,this.choice_source_tile_size,this.choice_source_tile_size,a,r,this.choice_target_tile_size,this.choice_target_tile_size)}get_flags_height(){const t=Math.sqrt(3);return this.flag_source_tile_width=this.image_flags.width,this.flag_source_tile_height=this.image_flags.height/a.length,this.flag_target_tile_width=.1315*this.canvas.width,this.flag_target_tile_side_size=this.flag_target_tile_width/t,this.flag_target_tile_height=2*this.flag_target_tile_side_size,this.flag_row_height=.1287*this.canvas.width,this.flag_row0_offset=this.get_element_offset("flags"),this.flag_col_width=.1565*this.canvas.width,this.flag_col0_offset=.1491*this.canvas.width-.5*this.flag_target_tile_width,this.flag_col_x_offset=this.flag_col_width/2,this.flag_rows=Math.ceil(this.countries.length/5),this.flag_rows*this.flag_row_height}paste_flag({ctx:t,country_name:e,row:n,col:i}){let s=a.indexOf(e);if(s<0)throw Error("Unknown country name:",e);let o=this.flag_source_tile_height*s,r=this.flag_row0_offset+n*this.flag_row_height,l=this.flag_col0_offset+i*this.flag_col_width;n%2!=0&&(l+=this.flag_col_x_offset),t.drawImage(this.image_flags,0,o,this.flag_source_tile_width,this.flag_source_tile_height,l,r,this.flag_target_tile_width,this.flag_target_tile_height)}render(){const t=this.canvas.getContext("2d"),e=.0457*this.canvas.width,n=.1552*this.canvas.width,i=.0671*this.canvas.width;if(t.drawImage(this.image_header,0,this.get_element_offset("header"),this.canvas.width,this.get_element_height("header")),t.font=`${e}px font_main`,t.fillStyle="#191654",t.textAlign="left",t.textBaseline="bottom",this.show_choices){t.fillText(`我取得了${this.choices.length}个成就`,.0565*this.canvas.width,this.get_element_offset("achievements"));for(let e=0;e<this.choices.length;e++)this.paste_choice({ctx:t,image_id:this.choices[e],row:Math.floor(e/4),col:e%4})}if(this.show_countries){t.fillText(`我去过${this.countries.length}个国家`,.0565*this.canvas.width,this.get_element_offset("countries"));for(let e=0;e<this.countries.length;e++)this.paste_flag({ctx:t,country_name:this.countries[e],row:Math.floor(e/5),col:e%5})}let s=this.choices.length+this.countries.length;t.font=`${n}px font_main`,t.fillStyle="#cb779e",t.textAlign="center",t.textBaseline="top",t.fillText(s,.7296*this.canvas.width,.2834*this.canvas.width),t.font=`${i}px font_name`,t.fillStyle="#191654",t.textAlign="center",t.textBaseline="bottom",t.fillText(this.username,.729*this.canvas.width,.2245*this.canvas.width),t.drawImage(this.image_footer,0,this.get_element_offset("footer"),this.canvas.width,this.get_element_height("footer"))}}({canvas:t,images:s,countries:i,choices:n,username:e.username}),r=o.get_height();G({canvas:t,height:r/l.Z.SCALE_FACTOR}),console.log("canvas",t.width,t.height);const h=t.getContext("2d"),u=new class{constructor({canvas:t,images:e,height:n}){this.canvas=t,this.total_height=n,this.image_header=e.base_header,this.image_footer=e.base_footer,this.image_base=e.base,this.scale_header=t.width/this.image_header.width,this.scale_footer=t.width/this.image_footer.width,this.scale_base=t.width/this.image_base.width,this.dh_header=this.image_header.height*this.scale_header,this.dh_footer=this.image_footer.height*this.scale_footer,this.dh_base=this.image_base.height*this.scale_base,this.offset_base=this.dh_header,this.offset_footer=this.total_height-this.dh_footer}get_height(){return this.total_height}render(){const t=this.canvas.getContext("2d");t.drawImage(this.image_base,0,0,this.canvas.width,this.canvas.height),t.drawImage(this.image_header,0,0,this.canvas.width,this.dh_header),t.drawImage(this.image_footer,0,this.offset_footer,this.canvas.width,this.dh_footer)}}({canvas:t,images:s,height:r}),d=new class{constructor({canvas:t,images:e,height:n}){this.canvas=t,this.total_height=n,this.image_pattern=e.pattern_screen,this.scale_pattern=t.width/this.image_pattern.width,this.dh_pattern=this.image_pattern.height*this.scale_pattern}get_height(){return this.total_height}render(){const t=this.canvas.getContext("2d");let e=0;for(;e<this.total_height;)t.drawImage(this.image_pattern,0,e,this.canvas.width,this.dh_pattern),e+=this.dh_pattern}}({canvas:t,images:s,height:r});u.render(),h.globalCompositeOperation="screen",d.render(),h.globalCompositeOperation="source-over",o.render()};function X(t,e){const n=Object.create(null),i=t.split(",");for(let t=0;t<i.length;t++)n[i[t]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}const q=X("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Y(t){return!!t||""===t}function J(t){if(gt(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=wt(i)?et(i):J(i);if(s)for(const t in s)e[t]=s[t]}return e}return wt(t)||bt(t)?t:void 0}const Q=/;(?![^(]*\))/g,tt=/:(.+)/;function et(t){const e={};return t.split(Q).forEach((t=>{if(t){const n=t.split(tt);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function nt(t){let e="";if(wt(t))e=t;else if(gt(t))for(let n=0;n<t.length;n++){const i=nt(t[n]);i&&(e+=i+" ")}else if(bt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const it=t=>wt(t)?t:null==t?"":gt(t)||bt(t)&&(t.toString===Et||!yt(t.toString))?JSON.stringify(t,st,2):String(t),st=(t,e)=>e&&e.__v_isRef?st(t,e.value):mt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:vt(e)?{[`Set(${e.size})`]:[...e.values()]}:!bt(e)||gt(e)||St(e)?e:String(e),ot={},rt=[],at=()=>{},lt=()=>!1,ct=/^on[^a-z]/,ht=t=>ct.test(t),ut=t=>t.startsWith("onUpdate:"),dt=Object.assign,_t=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},pt=Object.prototype.hasOwnProperty,ft=(t,e)=>pt.call(t,e),gt=Array.isArray,mt=t=>"[object Map]"===Ot(t),vt=t=>"[object Set]"===Ot(t),yt=t=>"function"==typeof t,wt=t=>"string"==typeof t,xt=t=>"symbol"==typeof t,bt=t=>null!==t&&"object"==typeof t,Ct=t=>bt(t)&&yt(t.then)&&yt(t.catch),Et=Object.prototype.toString,Ot=t=>Et.call(t),St=t=>"[object Object]"===Ot(t),Tt=t=>wt(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,At=X(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),It=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Lt=/-(\w)/g,kt=It((t=>t.replace(Lt,((t,e)=>e?e.toUpperCase():"")))),Rt=/\B([A-Z])/g,Mt=It((t=>t.replace(Rt,"-$1").toLowerCase())),Ut=It((t=>t.charAt(0).toUpperCase()+t.slice(1))),Pt=It((t=>t?`on${Ut(t)}`:"")),Ft=(t,e)=>!Object.is(t,e),Nt=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Dt=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},zt=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Zt;const jt=()=>Zt||(Zt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{});let Vt;class Ht{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&Vt&&(this.parent=Vt,this.index=(Vt.scopes||(Vt.scopes=[])).push(this)-1)}run(t){if(this.active){const e=Vt;try{return Vt=this,t()}finally{Vt=e}}}on(){Vt=this}off(){Vt=this.parent}stop(t){if(this.active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.active=!1}}}const Bt=t=>{const e=new Set(t);return e.w=0,e.n=0,e},$t=t=>(t.w&qt)>0,Wt=t=>(t.n&qt)>0,Gt=new WeakMap;let Kt,Xt=0,qt=1;const Yt=Symbol(""),Jt=Symbol("");class Qt{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,function(t,e=Vt){e&&e.active&&e.effects.push(t)}(this,n)}run(){if(!this.active)return this.fn();let t=Kt,e=ee;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Kt,Kt=this,ee=!0,qt=1<<++Xt,Xt<=30?(({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=qt})(this):te(this),this.fn()}finally{Xt<=30&&(t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const s=e[i];$t(s)&&!Wt(s)?s.delete(t):e[n++]=s,s.w&=~qt,s.n&=~qt}e.length=n}})(this),qt=1<<--Xt,Kt=this.parent,ee=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Kt===this?this.deferStop=!0:this.active&&(te(this),this.onStop&&this.onStop(),this.active=!1)}}function te(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let ee=!0;const ne=[];function ie(){ne.push(ee),ee=!1}function se(){const t=ne.pop();ee=void 0===t||t}function oe(t,e,n){if(ee&&Kt){let e=Gt.get(t);e||Gt.set(t,e=new Map);let i=e.get(n);i||e.set(n,i=Bt()),re(i)}}function re(t,e){let n=!1;Xt<=30?Wt(t)||(t.n|=qt,n=!$t(t)):n=!t.has(Kt),n&&(t.add(Kt),Kt.deps.push(t))}function ae(t,e,n,i,s,o){const r=Gt.get(t);if(!r)return;let a=[];if("clear"===e)a=[...r.values()];else if("length"===n&&gt(t))r.forEach(((t,e)=>{("length"===e||e>=i)&&a.push(t)}));else switch(void 0!==n&&a.push(r.get(n)),e){case"add":gt(t)?Tt(n)&&a.push(r.get("length")):(a.push(r.get(Yt)),mt(t)&&a.push(r.get(Jt)));break;case"delete":gt(t)||(a.push(r.get(Yt)),mt(t)&&a.push(r.get(Jt)));break;case"set":mt(t)&&a.push(r.get(Yt))}if(1===a.length)a[0]&&le(a[0]);else{const t=[];for(const e of a)e&&t.push(...e);le(Bt(t))}}function le(t,e){const n=gt(t)?t:[...t];for(const t of n)t.computed&&ce(t);for(const t of n)t.computed||ce(t)}function ce(t,e){(t!==Kt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const he=X("__proto__,__v_isRef,__isVue"),ue=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(xt)),de=me(),_e=me(!1,!0),pe=me(!0),fe=ge();function ge(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=tn(this);for(let t=0,e=this.length;t<e;t++)oe(n,0,t+"");const i=n[e](...t);return-1===i||!1===i?n[e](...t.map(tn)):i}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){ie();const n=tn(this)[e].apply(this,t);return se(),n}})),t}function me(t=!1,e=!1){return function(n,i,s){if("__v_isReactive"===i)return!t;if("__v_isReadonly"===i)return t;if("__v_isShallow"===i)return e;if("__v_raw"===i&&s===(t?e?We:$e:e?Be:He).get(n))return n;const o=gt(n);if(!t&&o&&ft(fe,i))return Reflect.get(fe,i,s);const r=Reflect.get(n,i,s);return(xt(i)?ue.has(i):he(i))?r:(t||oe(n,0,i),e?r:on(r)?o&&Tt(i)?r:r.value:bt(r)?t?Ke(r):Ge(r):r)}}function ve(t=!1){return function(e,n,i,s){let o=e[n];if(Ye(o)&&on(o)&&!on(i))return!1;if(!t&&!Ye(i)&&(Je(i)||(i=tn(i),o=tn(o)),!gt(e)&&on(o)&&!on(i)))return o.value=i,!0;const r=gt(e)&&Tt(n)?Number(n)<e.length:ft(e,n),a=Reflect.set(e,n,i,s);return e===tn(s)&&(r?Ft(i,o)&&ae(e,"set",n,i):ae(e,"add",n,i)),a}}const ye={get:de,set:ve(),deleteProperty:function(t,e){const n=ft(t,e),i=(t[e],Reflect.deleteProperty(t,e));return i&&n&&ae(t,"delete",e,void 0),i},has:function(t,e){const n=Reflect.has(t,e);return xt(e)&&ue.has(e)||oe(t,0,e),n},ownKeys:function(t){return oe(t,0,gt(t)?"length":Yt),Reflect.ownKeys(t)}},we={get:pe,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},xe=dt({},ye,{get:_e,set:ve(!0)}),be=t=>t,Ce=t=>Reflect.getPrototypeOf(t);function Ee(t,e,n=!1,i=!1){const s=tn(t=t.__v_raw),o=tn(e);n||(e!==o&&oe(s,0,e),oe(s,0,o));const{has:r}=Ce(s),a=i?be:n?sn:nn;return r.call(s,e)?a(t.get(e)):r.call(s,o)?a(t.get(o)):void(t!==s&&t.get(e))}function Oe(t,e=!1){const n=this.__v_raw,i=tn(n),s=tn(t);return e||(t!==s&&oe(i,0,t),oe(i,0,s)),t===s?n.has(t):n.has(t)||n.has(s)}function Se(t,e=!1){return t=t.__v_raw,!e&&oe(tn(t),0,Yt),Reflect.get(t,"size",t)}function Te(t){t=tn(t);const e=tn(this);return Ce(e).has.call(e,t)||(e.add(t),ae(e,"add",t,t)),this}function Ae(t,e){e=tn(e);const n=tn(this),{has:i,get:s}=Ce(n);let o=i.call(n,t);o||(t=tn(t),o=i.call(n,t));const r=s.call(n,t);return n.set(t,e),o?Ft(e,r)&&ae(n,"set",t,e):ae(n,"add",t,e),this}function Ie(t){const e=tn(this),{has:n,get:i}=Ce(e);let s=n.call(e,t);s||(t=tn(t),s=n.call(e,t)),i&&i.call(e,t);const o=e.delete(t);return s&&ae(e,"delete",t,void 0),o}function Le(){const t=tn(this),e=0!==t.size,n=t.clear();return e&&ae(t,"clear",void 0,void 0),n}function ke(t,e){return function(n,i){const s=this,o=s.__v_raw,r=tn(o),a=e?be:t?sn:nn;return!t&&oe(r,0,Yt),o.forEach(((t,e)=>n.call(i,a(t),a(e),s)))}}function Re(t,e,n){return function(...i){const s=this.__v_raw,o=tn(s),r=mt(o),a="entries"===t||t===Symbol.iterator&&r,l="keys"===t&&r,c=s[t](...i),h=n?be:e?sn:nn;return!e&&oe(o,0,l?Jt:Yt),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:a?[h(t[0]),h(t[1])]:h(t),done:e}},[Symbol.iterator](){return this}}}}function Me(t){return function(...e){return"delete"!==t&&this}}function Ue(){const t={get(t){return Ee(this,t)},get size(){return Se(this)},has:Oe,add:Te,set:Ae,delete:Ie,clear:Le,forEach:ke(!1,!1)},e={get(t){return Ee(this,t,!1,!0)},get size(){return Se(this)},has:Oe,add:Te,set:Ae,delete:Ie,clear:Le,forEach:ke(!1,!0)},n={get(t){return Ee(this,t,!0)},get size(){return Se(this,!0)},has(t){return Oe.call(this,t,!0)},add:Me("add"),set:Me("set"),delete:Me("delete"),clear:Me("clear"),forEach:ke(!0,!1)},i={get(t){return Ee(this,t,!0,!0)},get size(){return Se(this,!0)},has(t){return Oe.call(this,t,!0)},add:Me("add"),set:Me("set"),delete:Me("delete"),clear:Me("clear"),forEach:ke(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((s=>{t[s]=Re(s,!1,!1),n[s]=Re(s,!0,!1),e[s]=Re(s,!1,!0),i[s]=Re(s,!0,!0)})),[t,n,e,i]}const[Pe,Fe,Ne,De]=Ue();function ze(t,e){const n=e?t?De:Ne:t?Fe:Pe;return(e,i,s)=>"__v_isReactive"===i?!t:"__v_isReadonly"===i?t:"__v_raw"===i?e:Reflect.get(ft(n,i)&&i in e?n:e,i,s)}const Ze={get:ze(!1,!1)},je={get:ze(!1,!0)},Ve={get:ze(!0,!1)},He=new WeakMap,Be=new WeakMap,$e=new WeakMap,We=new WeakMap;function Ge(t){return Ye(t)?t:Xe(t,!1,ye,Ze,He)}function Ke(t){return Xe(t,!0,we,Ve,$e)}function Xe(t,e,n,i,s){if(!bt(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const r=(a=t).__v_skip||!Object.isExtensible(a)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>Ot(t).slice(8,-1))(a));var a;if(0===r)return t;const l=new Proxy(t,2===r?i:n);return s.set(t,l),l}function qe(t){return Ye(t)?qe(t.__v_raw):!(!t||!t.__v_isReactive)}function Ye(t){return!(!t||!t.__v_isReadonly)}function Je(t){return!(!t||!t.__v_isShallow)}function Qe(t){return qe(t)||Ye(t)}function tn(t){const e=t&&t.__v_raw;return e?tn(e):t}function en(t){return Dt(t,"__v_skip",!0),t}const nn=t=>bt(t)?Ge(t):t,sn=t=>bt(t)?Ke(t):t;function on(t){return!(!t||!0!==t.__v_isRef)}const rn={get:(t,e,n)=>{return on(i=Reflect.get(t,e,n))?i.value:i;var i},set:(t,e,n,i)=>{const s=t[e];return on(s)&&!on(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function an(t){return qe(t)?t:new Proxy(t,rn)}class ln{constructor(t,e,n,i){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Qt(t,(()=>{var t;this._dirty||(this._dirty=!0,(t=tn(t=this)).dep&&le(t.dep))})),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=tn(this);return e=t,ee&&Kt&&re((e=tn(e)).dep||(e.dep=Bt())),!t._dirty&&t._cacheable||(t._dirty=!1,t._value=t.effect.run()),t._value;var e}set value(t){this._setter(t)}}function cn(t,e,n,i){let s;try{s=i?t(...i):t()}catch(t){un(t,e,n)}return s}function hn(t,e,n,i){if(yt(t)){const s=cn(t,e,n,i);return s&&Ct(s)&&s.catch((t=>{un(t,e,n)})),s}const s=[];for(let o=0;o<t.length;o++)s.push(hn(t[o],e,n,i));return s}function un(t,e,n,i=!0){if(e&&e.vnode,e){let i=e.parent;const s=e.proxy,o=n;for(;i;){const e=i.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,s,o))return;i=i.parent}const r=e.appContext.config.errorHandler;if(r)return void cn(r,null,10,[t,s,o])}!function(t,e,n,i=!0){console.error(t)}(t,0,0,i)}let dn=!1,_n=!1;const pn=[];let fn=0;const gn=[];let mn=null,vn=0;const yn=[];let wn=null,xn=0;const bn=Promise.resolve();let Cn=null,En=null;function On(t){const e=Cn||bn;return t?e.then(this?t.bind(this):t):e}function Sn(t){pn.length&&pn.includes(t,dn&&t.allowRecurse?fn+1:fn)||t===En||(null==t.id?pn.push(t):pn.splice(function(t){let e=fn+1,n=pn.length;for(;e<n;){const i=e+n>>>1;kn(pn[i])<t?e=i+1:n=i}return e}(t.id),0,t),Tn())}function Tn(){dn||_n||(_n=!0,Cn=bn.then(Rn))}function An(t,e,n,i){gt(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?i+1:i)||n.push(t),Tn()}function In(t,e=null){if(gn.length){for(En=e,mn=[...new Set(gn)],gn.length=0,vn=0;vn<mn.length;vn++)mn[vn]();mn=null,vn=0,En=null,In(t,e)}}function Ln(t){if(In(),yn.length){const t=[...new Set(yn)];if(yn.length=0,wn)return void wn.push(...t);for(wn=t,wn.sort(((t,e)=>kn(t)-kn(e))),xn=0;xn<wn.length;xn++)wn[xn]();wn=null,xn=0}}const kn=t=>null==t.id?1/0:t.id;function Rn(t){_n=!1,dn=!0,In(t),pn.sort(((t,e)=>kn(t)-kn(e)));try{for(fn=0;fn<pn.length;fn++){const t=pn[fn];t&&!1!==t.active&&cn(t,null,14)}}finally{fn=0,pn.length=0,Ln(),dn=!1,Cn=null,(pn.length||gn.length||yn.length)&&Rn(t)}}new Set,new Map;let Mn,Un=[],Pn=!1;function Fn(t,...e){Mn?Mn.emit(t,...e):Pn||Un.push({event:t,args:e})}function Nn(t,e){var n,i;Mn=t,Mn?(Mn.enabled=!0,Un.forEach((({event:t,args:e})=>Mn.emit(t,...e))),Un=[]):"undefined"!=typeof window&&window.HTMLElement&&!(null===(i=null===(n=window.navigator)||void 0===n?void 0:n.userAgent)||void 0===i?void 0:i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((t=>{Nn(t,e)})),setTimeout((()=>{Mn||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Pn=!0,Un=[])}),3e3)):(Pn=!0,Un=[])}const Dn=jn("component:added"),zn=jn("component:updated"),Zn=jn("component:removed");function jn(t){return e=>{Fn(t,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}function Vn(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||ot;let s=n;const o=e.startsWith("update:"),r=o&&e.slice(7);if(r&&r in i){const t=`${"modelValue"===r?"model":r}Modifiers`,{number:e,trim:o}=i[t]||ot;o&&(s=n.map((t=>t.trim()))),e&&(s=n.map(zt))}let a;__VUE_PROD_DEVTOOLS__&&function(t,e,n){Fn("component:emit",t.appContext.app,t,e,n)}(t,e,s);let l=i[a=Pt(e)]||i[a=Pt(kt(e))];!l&&o&&(l=i[a=Pt(Mt(e))]),l&&hn(l,t,6,s);const c=i[a+"Once"];if(c){if(t.emitted){if(t.emitted[a])return}else t.emitted={};t.emitted[a]=!0,hn(c,t,6,s)}}function Hn(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(void 0!==s)return s;const o=t.emits;let r={},a=!1;if(__VUE_OPTIONS_API__&&!yt(t)){const i=t=>{const n=Hn(t,e,!0);n&&(a=!0,dt(r,n))};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}return o||a?(gt(o)?o.forEach((t=>r[t]=null)):dt(r,o),i.set(t,r),r):(i.set(t,null),null)}function Bn(t,e){return!(!t||!ht(e))&&(e=e.slice(2).replace(/Once$/,""),ft(t,e[0].toLowerCase()+e.slice(1))||ft(t,Mt(e))||ft(t,e))}let $n=null,Wn=null;function Gn(t){const e=$n;return $n=t,Wn=t&&t.type.__scopeId||null,e}function Kn(t){const{type:e,vnode:n,proxy:i,withProxy:s,props:o,propsOptions:[r],slots:a,attrs:l,emit:c,render:h,renderCache:u,data:d,setupState:_,ctx:p,inheritAttrs:f}=t;let g,m;const v=Gn(t);try{if(4&n.shapeFlag){const t=s||i;g=Ds(h.call(t,t,u,o,_,d,p)),m=l}else{const t=e;g=Ds(t.length>1?t(o,{attrs:l,slots:a,emit:c}):t(o,null)),m=e.props?l:Xn(l)}}catch(e){xs.length=0,un(e,t,1),g=Us(ys)}let y=g;if(m&&!1!==f){const t=Object.keys(m),{shapeFlag:e}=y;t.length&&7&e&&(r&&t.some(ut)&&(m=qn(m,r)),y=Ps(y,m))}return n.dirs&&(y=Ps(y),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),g=y,Gn(v),g}const Xn=t=>{let e;for(const n in t)("class"===n||"style"===n||ht(n))&&((e||(e={}))[n]=t[n]);return e},qn=(t,e)=>{const n={};for(const i in t)ut(i)&&i.slice(9)in e||(n[i]=t[i]);return n};function Yn(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const o=i[s];if(e[o]!==t[o]&&!Bn(n,o))return!0}return!1}function Jn(t,e,n=!1){const i=Bs||$n;if(i){const s=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&yt(e)?e.call(i.proxy):e}}const Qn={};function ti(t,e,n){return ei(t,e,n)}function ei(t,e,{immediate:n,deep:i,flush:s,onTrack:o,onTrigger:r}=ot){const a=Bs;let l,c,h=!1,u=!1;if(on(t)?(l=()=>t.value,h=Je(t)):qe(t)?(l=()=>t,i=!0):gt(t)?(u=!0,h=t.some((t=>qe(t)||Je(t))),l=()=>t.map((t=>on(t)?t.value:qe(t)?si(t):yt(t)?cn(t,a,2):void 0))):l=yt(t)?e?()=>cn(t,a,2):()=>{if(!a||!a.isUnmounted)return c&&c(),hn(t,a,3,[d])}:at,e&&i){const t=l;l=()=>si(t())}let d=t=>{c=g.onStop=()=>{cn(t,a,4)}};if(Xs)return d=at,e?n&&hn(e,a,3,[l(),u?[]:void 0,d]):l(),at;let _=u?[]:Qn;const p=()=>{if(g.active)if(e){const t=g.run();(i||h||(u?t.some(((t,e)=>Ft(t,_[e]))):Ft(t,_)))&&(c&&c(),hn(e,a,3,[t,_===Qn?void 0:_,d]),_=t)}else g.run()};let f;p.allowRecurse=!!e,f="sync"===s?p:"post"===s?()=>_s(p,a&&a.suspense):()=>function(t){An(t,mn,gn,vn)}(p);const g=new Qt(l,f);return e?n?p():_=g.run():"post"===s?_s(g.run.bind(g),a&&a.suspense):g.run(),()=>{g.stop(),a&&a.scope&&_t(a.scope.effects,g)}}function ni(t,e,n){const i=this.proxy,s=wt(t)?t.includes(".")?ii(i,t):()=>i[t]:t.bind(i,i);let o;yt(e)?o=e:(o=e.handler,n=e);const r=Bs;Ws(this);const a=ei(s,o.bind(i),n);return r?Ws(r):Gs(),a}function ii(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function si(t,e){if(!bt(t)||t.__v_skip)return t;if((e=e||new Set).has(t))return t;if(e.add(t),on(t))si(t.value,e);else if(gt(t))for(let n=0;n<t.length;n++)si(t[n],e);else if(vt(t)||mt(t))t.forEach((t=>{si(t,e)}));else if(St(t))for(const n in t)si(t[n],e);return t}const oi=[Function,Array],ri={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:oi,onEnter:oi,onAfterEnter:oi,onEnterCancelled:oi,onBeforeLeave:oi,onLeave:oi,onAfterLeave:oi,onLeaveCancelled:oi,onBeforeAppear:oi,onAppear:oi,onAfterAppear:oi,onAppearCancelled:oi},setup(t,{slots:e}){const n=$s(),i=function(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return bi((()=>{t.isMounted=!0})),Oi((()=>{t.isUnmounting=!0})),t}();let s;return()=>{const o=e.default&&di(e.default(),!0);if(!o||!o.length)return;let r=o[0];if(o.length>1){let t=!1;for(const e of o)if(e.type!==ys){r=e,t=!0;break}}const a=tn(t),{mode:l}=a;if(i.isLeaving)return ci(r);const c=hi(r);if(!c)return ci(r);const h=li(c,a,i,n);ui(c,h);const u=n.subTree,d=u&&hi(u);let _=!1;const{getTransitionKey:p}=c.type;if(p){const t=p();void 0===s?s=t:t!==s&&(s=t,_=!0)}if(d&&d.type!==ys&&(!Is(c,d)||_)){const t=li(d,a,i,n);if(ui(d,t),"out-in"===l)return i.isLeaving=!0,t.afterLeave=()=>{i.isLeaving=!1,n.update()},ci(r);"in-out"===l&&c.type!==ys&&(t.delayLeave=(t,e,n)=>{ai(i,d)[String(d.key)]=d,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=n})}return r}}};function ai(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function li(t,e,n,i){const{appear:s,mode:o,persisted:r=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:u,onLeave:d,onAfterLeave:_,onLeaveCancelled:p,onBeforeAppear:f,onAppear:g,onAfterAppear:m,onAppearCancelled:v}=e,y=String(t.key),w=ai(n,t),x=(t,e)=>{t&&hn(t,i,9,e)},b=(t,e)=>{const n=e[1];x(t,e),gt(t)?t.every((t=>t.length<=1))&&n():t.length<=1&&n()},C={mode:o,persisted:r,beforeEnter(e){let i=a;if(!n.isMounted){if(!s)return;i=f||a}e._leaveCb&&e._leaveCb(!0);const o=w[y];o&&Is(t,o)&&o.el._leaveCb&&o.el._leaveCb(),x(i,[e])},enter(t){let e=l,i=c,o=h;if(!n.isMounted){if(!s)return;e=g||l,i=m||c,o=v||h}let r=!1;const a=t._enterCb=e=>{r||(r=!0,x(e?o:i,[t]),C.delayedLeave&&C.delayedLeave(),t._enterCb=void 0)};e?b(e,[t,a]):a()},leave(e,i){const s=String(t.key);if(e._enterCb&&e._enterCb(!0),n.isUnmounting)return i();x(u,[e]);let o=!1;const r=e._leaveCb=n=>{o||(o=!0,i(),x(n?p:_,[e]),e._leaveCb=void 0,w[s]===t&&delete w[s])};w[s]=t,d?b(d,[e,r]):r()},clone:t=>li(t,e,n,i)};return C}function ci(t){if(pi(t))return(t=Ps(t)).children=null,t}function hi(t){return pi(t)?t.children?t.children[0]:void 0:t}function ui(t,e){6&t.shapeFlag&&t.component?ui(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function di(t,e=!1,n){let i=[],s=0;for(let o=0;o<t.length;o++){let r=t[o];const a=null==n?r.key:String(n)+String(null!=r.key?r.key:o);r.type===ms?(128&r.patchFlag&&s++,i=i.concat(di(r.children,e,a))):(e||r.type!==ys)&&i.push(null!=a?Ps(r,{key:a}):r)}if(s>1)for(let t=0;t<i.length;t++)i[t].patchFlag=-2;return i}const _i=t=>!!t.type.__asyncLoader,pi=t=>t.type.__isKeepAlive;function fi(t,e){mi(t,"a",e)}function gi(t,e){mi(t,"da",e)}function mi(t,e,n=Bs){const i=t.__wdc||(t.__wdc=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}return t()});if(yi(e,i,n),n){let t=n.parent;for(;t&&t.parent;)pi(t.parent.vnode)&&vi(i,e,n,t),t=t.parent}}function vi(t,e,n,i){const s=yi(e,t,i,!0);Si((()=>{_t(i[e],s)}),n)}function yi(t,e,n=Bs,i=!1){if(n){const s=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...i)=>{if(n.isUnmounted)return;ie(),Ws(n);const s=hn(e,n,t,i);return Gs(),se(),s});return i?s.unshift(o):s.push(o),o}}RegExp,RegExp;const wi=t=>(e,n=Bs)=>(!Xs||"sp"===t)&&yi(t,e,n),xi=wi("bm"),bi=wi("m"),Ci=wi("bu"),Ei=wi("u"),Oi=wi("bum"),Si=wi("um"),Ti=wi("sp"),Ai=wi("rtg"),Ii=wi("rtc");function Li(t,e=Bs){yi("ec",t,e)}function ki(t,e){const n=$n;if(null===n)return t;const i=Js(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let t=0;t<e.length;t++){let[n,o,r,a=ot]=e[t];yt(n)&&(n={mounted:n,updated:n}),n.deep&&si(o),s.push({dir:n,instance:i,value:o,oldValue:void 0,arg:r,modifiers:a})}return t}function Ri(t,e,n,i){const s=t.dirs,o=e&&e.dirs;for(let r=0;r<s.length;r++){const a=s[r];o&&(a.oldValue=o[r].value);let l=a.dir[i];l&&(ie(),hn(l,n,8,[t.el,a,t,e]),se())}}const Mi="components";function Ui(t,e){return function(t,e,n=!0,i=!1){const s=$n||Bs;if(s){const n=s.type;if(t===Mi){const t=function(t,e=!0){return yt(t)?t.displayName||t.name:t.name||e&&t.__name}(n,!1);if(t&&(t===e||t===kt(e)||t===Ut(kt(e))))return n}const o=Fi(s[t]||n[t],e)||Fi(s.appContext[t],e);return!o&&i?n:o}}(Mi,t,!0,e)||t}const Pi=Symbol();function Fi(t,e){return t&&(t[e]||t[kt(e)]||t[Ut(kt(e))])}function Ni(t,e,n,i){let s;const o=n&&n[i];if(gt(t)||wt(t)){s=new Array(t.length);for(let n=0,i=t.length;n<i;n++)s[n]=e(t[n],n,void 0,o&&o[n])}else if("number"==typeof t){s=new Array(t);for(let n=0;n<t;n++)s[n]=e(n+1,n,void 0,o&&o[n])}else if(bt(t))if(t[Symbol.iterator])s=Array.from(t,((t,n)=>e(t,n,void 0,o&&o[n])));else{const n=Object.keys(t);s=new Array(n.length);for(let i=0,r=n.length;i<r;i++){const r=n[i];s[i]=e(t[r],r,i,o&&o[i])}}else s=[];return n&&(n[i]=s),s}const Di=t=>t?Ks(t)?Js(t)||t.proxy:Di(t.parent):null,zi=dt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Di(t.parent),$root:t=>Di(t.root),$emit:t=>t.emit,$options:t=>__VUE_OPTIONS_API__?Bi(t):t.type,$forceUpdate:t=>t.f||(t.f=()=>Sn(t.update)),$nextTick:t=>t.n||(t.n=On.bind(t.proxy)),$watch:t=>__VUE_OPTIONS_API__?ni.bind(t):at}),Zi={get({_:t},e){const{ctx:n,setupState:i,data:s,props:o,accessCache:r,type:a,appContext:l}=t;let c;if("$"!==e[0]){const a=r[e];if(void 0!==a)switch(a){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return o[e]}else{if(i!==ot&&ft(i,e))return r[e]=1,i[e];if(s!==ot&&ft(s,e))return r[e]=2,s[e];if((c=t.propsOptions[0])&&ft(c,e))return r[e]=3,o[e];if(n!==ot&&ft(n,e))return r[e]=4,n[e];__VUE_OPTIONS_API__&&!ji||(r[e]=0)}}const h=zi[e];let u,d;return h?("$attrs"===e&&oe(t,0,e),h(t)):(u=a.__cssModules)&&(u=u[e])?u:n!==ot&&ft(n,e)?(r[e]=4,n[e]):(d=l.config.globalProperties,ft(d,e)?d[e]:void 0)},set({_:t},e,n){const{data:i,setupState:s,ctx:o}=t;return s!==ot&&ft(s,e)?(s[e]=n,!0):i!==ot&&ft(i,e)?(i[e]=n,!0):!(ft(t.props,e)||"$"===e[0]&&e.slice(1)in t||(o[e]=n,0))},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:o}},r){let a;return!!n[r]||t!==ot&&ft(t,r)||e!==ot&&ft(e,r)||(a=o[0])&&ft(a,r)||ft(i,r)||ft(zi,r)||ft(s.config.globalProperties,r)},defineProperty(t,e,n){return null!=n.get?t._.accessCache[e]=0:ft(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let ji=!0;function Vi(t,e,n){hn(gt(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function Hi(t,e,n,i){const s=i.includes(".")?ii(n,i):()=>n[i];if(wt(t)){const n=e[t];yt(n)&&ti(s,n)}else if(yt(t))ti(s,t.bind(n));else if(bt(t))if(gt(t))t.forEach((t=>Hi(t,e,n,i)));else{const i=yt(t.handler)?t.handler.bind(n):e[t.handler];yt(i)&&ti(s,i,t)}}function Bi(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:r}}=t.appContext,a=o.get(e);let l;return a?l=a:s.length||n||i?(l={},s.length&&s.forEach((t=>$i(l,t,r,!0))),$i(l,e,r)):l=e,o.set(e,l),l}function $i(t,e,n,i=!1){const{mixins:s,extends:o}=e;o&&$i(t,o,n,!0),s&&s.forEach((e=>$i(t,e,n,!0)));for(const s in e)if(i&&"expose"===s);else{const i=Wi[s]||n&&n[s];t[s]=i?i(t[s],e[s]):e[s]}return t}const Wi={data:Gi,props:qi,emits:qi,methods:qi,computed:qi,beforeCreate:Xi,created:Xi,beforeMount:Xi,mounted:Xi,beforeUpdate:Xi,updated:Xi,beforeDestroy:Xi,beforeUnmount:Xi,destroyed:Xi,unmounted:Xi,activated:Xi,deactivated:Xi,errorCaptured:Xi,serverPrefetch:Xi,components:qi,directives:qi,watch:function(t,e){if(!t)return e;if(!e)return t;const n=dt(Object.create(null),t);for(const i in e)n[i]=Xi(t[i],e[i]);return n},provide:Gi,inject:function(t,e){return qi(Ki(t),Ki(e))}};function Gi(t,e){return e?t?function(){return dt(yt(t)?t.call(this,this):t,yt(e)?e.call(this,this):e)}:e:t}function Ki(t){if(gt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Xi(t,e){return t?[...new Set([].concat(t,e))]:e}function qi(t,e){return t?dt(dt(Object.create(null),t),e):e}function Yi(t,e,n,i){const[s,o]=t.propsOptions;let r,a=!1;if(e)for(let l in e){if(At(l))continue;const c=e[l];let h;s&&ft(s,h=kt(l))?o&&o.includes(h)?(r||(r={}))[h]=c:n[h]=c:Bn(t.emitsOptions,l)||l in i&&c===i[l]||(i[l]=c,a=!0)}if(o){const e=tn(n),i=r||ot;for(let r=0;r<o.length;r++){const a=o[r];n[a]=Ji(s,e,a,i[a],t,!ft(i,a))}}return a}function Ji(t,e,n,i,s,o){const r=t[n];if(null!=r){const t=ft(r,"default");if(t&&void 0===i){const t=r.default;if(r.type!==Function&&yt(t)){const{propsDefaults:o}=s;n in o?i=o[n]:(Ws(s),i=o[n]=t.call(null,e),Gs())}else i=t}r[0]&&(o&&!t?i=!1:!r[1]||""!==i&&i!==Mt(n)||(i=!0))}return i}function Qi(t,e,n=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const o=t.props,r={},a=[];let l=!1;if(__VUE_OPTIONS_API__&&!yt(t)){const i=t=>{l=!0;const[n,i]=Qi(t,e,!0);dt(r,n),i&&a.push(...i)};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}if(!o&&!l)return i.set(t,rt),rt;if(gt(o))for(let t=0;t<o.length;t++){const e=kt(o[t]);ts(e)&&(r[e]=ot)}else if(o)for(const t in o){const e=kt(t);if(ts(e)){const n=o[t],i=r[e]=gt(n)||yt(n)?{type:n}:n;if(i){const t=is(Boolean,i.type),n=is(String,i.type);i[0]=t>-1,i[1]=n<0||t<n,(t>-1||ft(i,"default"))&&a.push(e)}}}const c=[r,a];return i.set(t,c),c}function ts(t){return"$"!==t[0]}function es(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:null===t?"null":""}function ns(t,e){return es(t)===es(e)}function is(t,e){return gt(e)?e.findIndex((e=>ns(e,t))):yt(e)&&ns(e,t)?0:-1}const ss=t=>"_"===t[0]||"$stable"===t,os=t=>gt(t)?t.map(Ds):[Ds(t)],rs=(t,e,n)=>{if(e._n)return e;const i=function(t,e=$n,n){if(!e)return t;if(t._n)return t;const i=(...n)=>{i._d&&Os(-1);const s=Gn(e),o=t(...n);return Gn(s),i._d&&Os(1),__VUE_PROD_DEVTOOLS__&&zn(e),o};return i._n=!0,i._c=!0,i._d=!0,i}(((...t)=>os(e(...t))),n);return i._c=!1,i},as=(t,e,n)=>{const i=t._ctx;for(const n in t){if(ss(n))continue;const s=t[n];if(yt(s))e[n]=rs(0,s,i);else if(null!=s){const t=os(s);e[n]=()=>t}}},ls=(t,e)=>{const n=os(e);t.slots.default=()=>n};function cs(){return{app:null,config:{isNativeTag:lt,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hs=0;function us(t,e){return function(n,i=null){yt(n)||(n=Object.assign({},n)),null==i||bt(i)||(i=null);const s=cs(),o=new Set;let r=!1;const a=s.app={_uid:hs++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:to,get config(){return s.config},set config(t){},use:(t,...e)=>(o.has(t)||(t&&yt(t.install)?(o.add(t),t.install(a,...e)):yt(t)&&(o.add(t),t(a,...e))),a),mixin:t=>(__VUE_OPTIONS_API__&&(s.mixins.includes(t)||s.mixins.push(t)),a),component:(t,e)=>e?(s.components[t]=e,a):s.components[t],directive:(t,e)=>e?(s.directives[t]=e,a):s.directives[t],mount(o,l,c){if(!r){const h=Us(n,i);return h.appContext=s,l&&e?e(h,o):t(h,o,c),r=!0,a._container=o,o.__vue_app__=a,__VUE_PROD_DEVTOOLS__&&(a._instance=h.component,function(t,e){Fn("app:init",t,e,{Fragment:ms,Text:vs,Comment:ys,Static:ws})}(a,to)),Js(h.component)||h.component.proxy}},unmount(){r&&(t(null,a._container),__VUE_PROD_DEVTOOLS__&&(a._instance=null,function(t){Fn("app:unmount",t)}(a)),delete a._container.__vue_app__)},provide:(t,e)=>(s.provides[t]=e,a)};return a}}function ds(t,e,n,i,s=!1){if(gt(t))return void t.forEach(((t,o)=>ds(t,e&&(gt(e)?e[o]:e),n,i,s)));if(_i(i)&&!s)return;const o=4&i.shapeFlag?Js(i.component)||i.component.proxy:i.el,r=s?null:o,{i:a,r:l}=t,c=e&&e.r,h=a.refs===ot?a.refs={}:a.refs,u=a.setupState;if(null!=c&&c!==l&&(wt(c)?(h[c]=null,ft(u,c)&&(u[c]=null)):on(c)&&(c.value=null)),yt(l))cn(l,a,12,[r,h]);else{const e=wt(l),i=on(l);if(e||i){const a=()=>{if(t.f){const n=e?h[l]:l.value;s?gt(n)&&_t(n,o):gt(n)?n.includes(o)||n.push(o):e?(h[l]=[o],ft(u,l)&&(u[l]=h[l])):(l.value=[o],t.k&&(h[t.k]=l.value))}else e?(h[l]=r,ft(u,l)&&(u[l]=r)):i&&(l.value=r,t.k&&(h[t.k]=r))};r?(a.id=-1,_s(a,n)):a()}}}const _s=function(t,e){e&&e.pendingBranch?gt(t)?e.effects.push(...t):e.effects.push(t):An(t,wn,yn,xn)};function ps(t,e){"boolean"!=typeof __VUE_OPTIONS_API__&&(jt().__VUE_OPTIONS_API__=!0),"boolean"!=typeof __VUE_PROD_DEVTOOLS__&&(jt().__VUE_PROD_DEVTOOLS__=!1);const n=jt();n.__VUE__=!0,__VUE_PROD_DEVTOOLS__&&Nn(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:i,remove:s,patchProp:o,createElement:r,createText:a,createComment:l,setText:c,setElementText:h,parentNode:u,nextSibling:d,setScopeId:_=at,cloneNode:p,insertStaticContent:f}=t,g=(t,e,n,i=null,s=null,o=null,r=!1,a=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!Is(t,e)&&(i=V(t),N(t,s,o,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:c,ref:h,shapeFlag:u}=e;switch(c){case vs:m(t,e,n,i);break;case ys:v(t,e,n,i);break;case ws:null==t&&y(e,n,i,r);break;case ms:T(t,e,n,i,s,o,r,a,l);break;default:1&u?w(t,e,n,i,s,o,r,a,l):6&u?A(t,e,n,i,s,o,r,a,l):(64&u||128&u)&&c.process(t,e,n,i,s,o,r,a,l,B)}null!=h&&s&&ds(h,t&&t.ref,o,e||t,!e)},m=(t,e,n,s)=>{if(null==t)i(e.el=a(e.children),n,s);else{const n=e.el=t.el;e.children!==t.children&&c(n,e.children)}},v=(t,e,n,s)=>{null==t?i(e.el=l(e.children||""),n,s):e.el=t.el},y=(t,e,n,i)=>{[t.el,t.anchor]=f(t.children,e,n,i,t.el,t.anchor)},w=(t,e,n,i,s,o,r,a,l)=>{r=r||"svg"===e.type,null==t?x(e,n,i,s,o,r,a,l):E(t,e,s,o,r,a,l)},x=(t,e,n,s,a,l,c,u)=>{let d,_;const{type:f,props:g,shapeFlag:m,transition:v,patchFlag:y,dirs:w}=t;if(t.el&&void 0!==p&&-1===y)d=t.el=p(t.el);else{if(d=t.el=r(t.type,l,g&&g.is,g),8&m?h(d,t.children):16&m&&C(t.children,d,null,s,a,l&&"foreignObject"!==f,c,u),w&&Ri(t,null,s,"created"),g){for(const e in g)"value"===e||At(e)||o(d,e,null,g[e],l,t.children,s,a,j);"value"in g&&o(d,"value",null,g.value),(_=g.onVnodeBeforeMount)&&js(_,s,t)}b(d,t,t.scopeId,c,s)}__VUE_PROD_DEVTOOLS__&&(Object.defineProperty(d,"__vnode",{value:t,enumerable:!1}),Object.defineProperty(d,"__vueParentComponent",{value:s,enumerable:!1})),w&&Ri(t,null,s,"beforeMount");const x=(!a||a&&!a.pendingBranch)&&v&&!v.persisted;x&&v.beforeEnter(d),i(d,e,n),((_=g&&g.onVnodeMounted)||x||w)&&_s((()=>{_&&js(_,s,t),x&&v.enter(d),w&&Ri(t,null,s,"mounted")}),a)},b=(t,e,n,i,s)=>{if(n&&_(t,n),i)for(let e=0;e<i.length;e++)_(t,i[e]);if(s&&e===s.subTree){const e=s.vnode;b(t,e,e.scopeId,e.slotScopeIds,s.parent)}},C=(t,e,n,i,s,o,r,a,l=0)=>{for(let c=l;c<t.length;c++){const l=t[c]=a?zs(t[c]):Ds(t[c]);g(null,l,e,n,i,s,o,r,a)}},E=(t,e,n,i,s,r,a)=>{const l=e.el=t.el;let{patchFlag:c,dynamicChildren:u,dirs:d}=e;c|=16&t.patchFlag;const _=t.props||ot,p=e.props||ot;let f;n&&fs(n,!1),(f=p.onVnodeBeforeUpdate)&&js(f,n,e,t),d&&Ri(e,t,n,"beforeUpdate"),n&&fs(n,!0);const g=s&&"foreignObject"!==e.type;if(u?O(t.dynamicChildren,u,l,n,i,g,r):a||M(t,e,l,null,n,i,g,r,!1),c>0){if(16&c)S(l,e,_,p,n,i,s);else if(2&c&&_.class!==p.class&&o(l,"class",null,p.class,s),4&c&&o(l,"style",_.style,p.style,s),8&c){const r=e.dynamicProps;for(let e=0;e<r.length;e++){const a=r[e],c=_[a],h=p[a];h===c&&"value"!==a||o(l,a,c,h,s,t.children,n,i,j)}}1&c&&t.children!==e.children&&h(l,e.children)}else a||null!=u||S(l,e,_,p,n,i,s);((f=p.onVnodeUpdated)||d)&&_s((()=>{f&&js(f,n,e,t),d&&Ri(e,t,n,"updated")}),i)},O=(t,e,n,i,s,o,r)=>{for(let a=0;a<e.length;a++){const l=t[a],c=e[a],h=l.el&&(l.type===ms||!Is(l,c)||70&l.shapeFlag)?u(l.el):n;g(l,c,h,null,i,s,o,r,!0)}},S=(t,e,n,i,s,r,a)=>{if(n!==i){for(const l in i){if(At(l))continue;const c=i[l],h=n[l];c!==h&&"value"!==l&&o(t,l,h,c,a,e.children,s,r,j)}if(n!==ot)for(const l in n)At(l)||l in i||o(t,l,n[l],null,a,e.children,s,r,j);"value"in i&&o(t,"value",n.value,i.value)}},T=(t,e,n,s,o,r,l,c,h)=>{const u=e.el=t?t.el:a(""),d=e.anchor=t?t.anchor:a("");let{patchFlag:_,dynamicChildren:p,slotScopeIds:f}=e;f&&(c=c?c.concat(f):f),null==t?(i(u,n,s),i(d,n,s),C(e.children,n,d,o,r,l,c,h)):_>0&&64&_&&p&&t.dynamicChildren?(O(t.dynamicChildren,p,n,o,r,l,c),(null!=e.key||o&&e===o.subTree)&&gs(t,e,!0)):M(t,e,n,d,o,r,l,c,h)},A=(t,e,n,i,s,o,r,a,l)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?s.ctx.activate(e,n,i,r,l):I(e,n,i,s,o,r,l):L(t,e,l)},I=(t,e,n,i,s,o,r)=>{const a=t.component=function(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||Vs,o={uid:Hs++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ht(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Qi(i,s),emitsOptions:Hn(i,s),emit:null,emitted:null,propsDefaults:ot,inheritAttrs:i.inheritAttrs,ctx:ot,data:ot,props:ot,attrs:ot,slots:ot,refs:ot,setupState:ot,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Vn.bind(null,o),t.ce&&t.ce(o),o}(t,i,s);if(pi(t)&&(a.ctx.renderer=B),function(t,e=!1){Xs=e;const{props:n,children:i}=t.vnode,s=Ks(t);(function(t,e,n,i=!1){const s={},o={};Dt(o,Ls,1),t.propsDefaults=Object.create(null),Yi(t,e,s,o);for(const e in t.propsOptions[0])e in s||(s[e]=void 0);n?t.props=i?s:Xe(s,!1,xe,je,Be):t.type.props?t.props=s:t.props=o,t.attrs=o})(t,n,s,e),((t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=tn(e),Dt(e,"_",n)):as(e,t.slots={})}else t.slots={},e&&ls(t,e);Dt(t.slots,Ls,1)})(t,i);const o=s?function(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=en(new Proxy(t.ctx,Zi));const{setup:i}=n;if(i){const n=t.setupContext=i.length>1?function(t){const e=e=>{t.exposed=e||{}};let n;return{get attrs(){return n||(n=function(t){return new Proxy(t.attrs,{get:(e,n)=>(oe(t,0,"$attrs"),e[n])})}(t))},slots:t.slots,emit:t.emit,expose:e}}(t):null;Ws(t),ie();const s=cn(i,t,0,[t.props,n]);if(se(),Gs(),Ct(s)){if(s.then(Gs,Gs),e)return s.then((n=>{qs(t,n,e)})).catch((e=>{un(e,t,0)}));t.asyncDep=s}else qs(t,s,e)}else Ys(t,e)}(t,e):void 0;Xs=!1}(a),a.asyncDep){if(s&&s.registerDep(a,k),!t.el){const t=a.subTree=Us(ys);v(null,t,e,n)}}else k(a,t,e,n,s,o,r)},L=(t,e,n)=>{const i=e.component=t.component;if(function(t,e,n){const{props:i,children:s,component:o}=t,{props:r,children:a,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&l>=0))return!(!s&&!a||a&&a.$stable)||i!==r&&(i?!r||Yn(i,r,c):!!r);if(1024&l)return!0;if(16&l)return i?Yn(i,r,c):!!r;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(r[n]!==i[n]&&!Bn(c,n))return!0}}return!1}(t,e,n)){if(i.asyncDep&&!i.asyncResolved)return void R(i,e,n);i.next=e,function(t){const e=pn.indexOf(t);e>fn&&pn.splice(e,1)}(i.update),i.update()}else e.el=t.el,i.vnode=e},k=(t,e,n,i,s,o,r)=>{const a=t.effect=new Qt((()=>{if(t.isMounted){let e,{next:n,bu:i,u:a,parent:l,vnode:c}=t,h=n;fs(t,!1),n?(n.el=c.el,R(t,n,r)):n=c,i&&Nt(i),(e=n.props&&n.props.onVnodeBeforeUpdate)&&js(e,l,n,c),fs(t,!0);const d=Kn(t),_=t.subTree;t.subTree=d,g(_,d,u(_.el),V(_),t,s,o),n.el=d.el,null===h&&function({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}(t,d.el),a&&_s(a,s),(e=n.props&&n.props.onVnodeUpdated)&&_s((()=>js(e,l,n,c)),s),__VUE_PROD_DEVTOOLS__&&zn(t)}else{let r;const{el:a,props:l}=e,{bm:c,m:h,parent:u}=t,d=_i(e);if(fs(t,!1),c&&Nt(c),!d&&(r=l&&l.onVnodeBeforeMount)&&js(r,u,e),fs(t,!0),a&&W){const n=()=>{t.subTree=Kn(t),W(a,t.subTree,t,s,null)};d?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{const r=t.subTree=Kn(t);g(null,r,n,i,t,s,o),e.el=r.el}if(h&&_s(h,s),!d&&(r=l&&l.onVnodeMounted)){const t=e;_s((()=>js(r,u,t)),s)}(256&e.shapeFlag||u&&_i(u.vnode)&&256&u.vnode.shapeFlag)&&t.a&&_s(t.a,s),t.isMounted=!0,__VUE_PROD_DEVTOOLS__&&Dn(t),e=n=i=null}}),(()=>Sn(l)),t.scope),l=t.update=()=>a.run();l.id=t.uid,fs(t,!0),l()},R=(t,e,n)=>{e.component=t;const i=t.vnode.props;t.vnode=e,t.next=null,function(t,e,n,i){const{props:s,attrs:o,vnode:{patchFlag:r}}=t,a=tn(s),[l]=t.propsOptions;let c=!1;if(!(i||r>0)||16&r){let i;Yi(t,e,s,o)&&(c=!0);for(const o in a)e&&(ft(e,o)||(i=Mt(o))!==o&&ft(e,i))||(l?!n||void 0===n[o]&&void 0===n[i]||(s[o]=Ji(l,a,o,void 0,t,!0)):delete s[o]);if(o!==a)for(const t in o)e&&ft(e,t)||(delete o[t],c=!0)}else if(8&r){const n=t.vnode.dynamicProps;for(let i=0;i<n.length;i++){let r=n[i];if(Bn(t.emitsOptions,r))continue;const h=e[r];if(l)if(ft(o,r))h!==o[r]&&(o[r]=h,c=!0);else{const e=kt(r);s[e]=Ji(l,a,e,h,t,!1)}else h!==o[r]&&(o[r]=h,c=!0)}}c&&ae(t,"set","$attrs")}(t,e.props,i,n),((t,e,n)=>{const{vnode:i,slots:s}=t;let o=!0,r=ot;if(32&i.shapeFlag){const t=e._;t?n&&1===t?o=!1:(dt(s,e),n||1!==t||delete s._):(o=!e.$stable,as(e,s)),r=e}else e&&(ls(t,e),r={default:1});if(o)for(const t in s)ss(t)||t in r||delete s[t]})(t,e.children,n),ie(),In(void 0,t.update),se()},M=(t,e,n,i,s,o,r,a,l=!1)=>{const c=t&&t.children,u=t?t.shapeFlag:0,d=e.children,{patchFlag:_,shapeFlag:p}=e;if(_>0){if(128&_)return void P(c,d,n,i,s,o,r,a,l);if(256&_)return void U(c,d,n,i,s,o,r,a,l)}8&p?(16&u&&j(c,s,o),d!==c&&h(n,d)):16&u?16&p?P(c,d,n,i,s,o,r,a,l):j(c,s,o,!0):(8&u&&h(n,""),16&p&&C(d,n,i,s,o,r,a,l))},U=(t,e,n,i,s,o,r,a,l)=>{e=e||rt;const c=(t=t||rt).length,h=e.length,u=Math.min(c,h);let d;for(d=0;d<u;d++){const i=e[d]=l?zs(e[d]):Ds(e[d]);g(t[d],i,n,null,s,o,r,a,l)}c>h?j(t,s,o,!0,!1,u):C(e,n,i,s,o,r,a,l,u)},P=(t,e,n,i,s,o,r,a,l)=>{let c=0;const h=e.length;let u=t.length-1,d=h-1;for(;c<=u&&c<=d;){const i=t[c],h=e[c]=l?zs(e[c]):Ds(e[c]);if(!Is(i,h))break;g(i,h,n,null,s,o,r,a,l),c++}for(;c<=u&&c<=d;){const i=t[u],c=e[d]=l?zs(e[d]):Ds(e[d]);if(!Is(i,c))break;g(i,c,n,null,s,o,r,a,l),u--,d--}if(c>u){if(c<=d){const t=d+1,u=t<h?e[t].el:i;for(;c<=d;)g(null,e[c]=l?zs(e[c]):Ds(e[c]),n,u,s,o,r,a,l),c++}}else if(c>d)for(;c<=u;)N(t[c],s,o,!0),c++;else{const _=c,p=c,f=new Map;for(c=p;c<=d;c++){const t=e[c]=l?zs(e[c]):Ds(e[c]);null!=t.key&&f.set(t.key,c)}let m,v=0;const y=d-p+1;let w=!1,x=0;const b=new Array(y);for(c=0;c<y;c++)b[c]=0;for(c=_;c<=u;c++){const i=t[c];if(v>=y){N(i,s,o,!0);continue}let h;if(null!=i.key)h=f.get(i.key);else for(m=p;m<=d;m++)if(0===b[m-p]&&Is(i,e[m])){h=m;break}void 0===h?N(i,s,o,!0):(b[h-p]=c+1,h>=x?x=h:w=!0,g(i,e[h],n,null,s,o,r,a,l),v++)}const C=w?function(t){const e=t.slice(),n=[0];let i,s,o,r,a;const l=t.length;for(i=0;i<l;i++){const l=t[i];if(0!==l){if(s=n[n.length-1],t[s]<l){e[i]=s,n.push(i);continue}for(o=0,r=n.length-1;o<r;)a=o+r>>1,t[n[a]]<l?o=a+1:r=a;l<t[n[o]]&&(o>0&&(e[i]=n[o-1]),n[o]=i)}}for(o=n.length,r=n[o-1];o-- >0;)n[o]=r,r=e[r];return n}(b):rt;for(m=C.length-1,c=y-1;c>=0;c--){const t=p+c,u=e[t],d=t+1<h?e[t+1].el:i;0===b[c]?g(null,u,n,d,s,o,r,a,l):w&&(m<0||c!==C[m]?F(u,n,d,2):m--)}}},F=(t,e,n,s,o=null)=>{const{el:r,type:a,transition:l,children:c,shapeFlag:h}=t;if(6&h)F(t.component.subTree,e,n,s);else if(128&h)t.suspense.move(e,n,s);else if(64&h)a.move(t,e,n,B);else if(a!==ms)if(a!==ws)if(2!==s&&1&h&&l)if(0===s)l.beforeEnter(r),i(r,e,n),_s((()=>l.enter(r)),o);else{const{leave:t,delayLeave:s,afterLeave:o}=l,a=()=>i(r,e,n),c=()=>{t(r,(()=>{a(),o&&o()}))};s?s(r,a,c):c()}else i(r,e,n);else(({el:t,anchor:e},n,s)=>{let o;for(;t&&t!==e;)o=d(t),i(t,n,s),t=o;i(e,n,s)})(t,e,n);else{i(r,e,n);for(let t=0;t<c.length;t++)F(c[t],e,n,s);i(t.anchor,e,n)}},N=(t,e,n,i=!1,s=!1)=>{const{type:o,props:r,ref:a,children:l,dynamicChildren:c,shapeFlag:h,patchFlag:u,dirs:d}=t;if(null!=a&&ds(a,null,n,t,!0),256&h)return void e.ctx.deactivate(t);const _=1&h&&d,p=!_i(t);let f;if(p&&(f=r&&r.onVnodeBeforeUnmount)&&js(f,e,t),6&h)Z(t.component,n,i);else{if(128&h)return void t.suspense.unmount(n,i);_&&Ri(t,null,e,"beforeUnmount"),64&h?t.type.remove(t,e,n,s,B,i):c&&(o!==ms||u>0&&64&u)?j(c,e,n,!1,!0):(o===ms&&384&u||!s&&16&h)&&j(l,e,n),i&&D(t)}(p&&(f=r&&r.onVnodeUnmounted)||_)&&_s((()=>{f&&js(f,e,t),_&&Ri(t,null,e,"unmounted")}),n)},D=t=>{const{type:e,el:n,anchor:i,transition:o}=t;if(e===ms)return void z(n,i);if(e===ws)return void(({el:t,anchor:e})=>{let n;for(;t&&t!==e;)n=d(t),s(t),t=n;s(e)})(t);const r=()=>{s(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&t.shapeFlag&&o&&!o.persisted){const{leave:e,delayLeave:i}=o,s=()=>e(n,r);i?i(t.el,r,s):s()}else r()},z=(t,e)=>{let n;for(;t!==e;)n=d(t),s(t),t=n;s(e)},Z=(t,e,n)=>{const{bum:i,scope:s,update:o,subTree:r,um:a}=t;i&&Nt(i),s.stop(),o&&(o.active=!1,N(r,t,e,n)),a&&_s(a,e),_s((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve()),__VUE_PROD_DEVTOOLS__&&Zn(t)},j=(t,e,n,i=!1,s=!1,o=0)=>{for(let r=o;r<t.length;r++)N(t[r],e,n,i,s)},V=t=>6&t.shapeFlag?V(t.component.subTree):128&t.shapeFlag?t.suspense.next():d(t.anchor||t.el),H=(t,e,n)=>{null==t?e._vnode&&N(e._vnode,null,null,!0):g(e._vnode||null,t,e,null,null,null,n),Ln(),e._vnode=t},B={p:g,um:N,m:F,r:D,mt:I,mc:C,pc:M,pbc:O,n:V,o:t};let $,W;return e&&([$,W]=e(B)),{render:H,hydrate:$,createApp:us(H,$)}}function fs({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function gs(t,e,n=!1){const i=t.children,s=e.children;if(gt(i)&&gt(s))for(let t=0;t<i.length;t++){const e=i[t];let o=s[t];1&o.shapeFlag&&!o.dynamicChildren&&((o.patchFlag<=0||32===o.patchFlag)&&(o=s[t]=zs(s[t]),o.el=e.el),n||gs(e,o))}}const ms=Symbol(void 0),vs=Symbol(void 0),ys=Symbol(void 0),ws=Symbol(void 0),xs=[];let bs=null;function Cs(t=!1){xs.push(bs=t?null:[])}let Es=1;function Os(t){Es+=t}function Ss(t){return t.dynamicChildren=Es>0?bs||rt:null,xs.pop(),bs=xs[xs.length-1]||null,Es>0&&bs&&bs.push(t),t}function Ts(t,e,n,i,s,o){return Ss(Ms(t,e,n,i,s,o,!0))}function As(t){return!!t&&!0===t.__v_isVNode}function Is(t,e){return t.type===e.type&&t.key===e.key}const Ls="__vInternal",ks=({key:t})=>null!=t?t:null,Rs=({ref:t,ref_key:e,ref_for:n})=>null!=t?wt(t)||on(t)||yt(t)?{i:$n,r:t,k:e,f:!!n}:t:null;function Ms(t,e=null,n=null,i=0,s=null,o=(t===ms?0:1),r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ks(e),ref:e&&Rs(e),scopeId:Wn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null};return a?(Zs(l,n),128&o&&t.normalize(l)):n&&(l.shapeFlag|=wt(n)?8:16),Es>0&&!r&&bs&&(l.patchFlag>0||6&o)&&32!==l.patchFlag&&bs.push(l),l}const Us=function(t,e=null,n=null,i=0,s=null,o=!1){if(t&&t!==Pi||(t=ys),As(t)){const i=Ps(t,e,!0);return n&&Zs(i,n),Es>0&&!o&&bs&&(6&i.shapeFlag?bs[bs.indexOf(t)]=i:bs.push(i)),i.patchFlag|=-2,i}if(r=t,yt(r)&&"__vccOpts"in r&&(t=t.__vccOpts),e){e=function(t){return t?Qe(t)||Ls in t?dt({},t):t:null}(e);let{class:t,style:n}=e;t&&!wt(t)&&(e.class=nt(t)),bt(n)&&(Qe(n)&&!gt(n)&&(n=dt({},n)),e.style=J(n))}var r;return Ms(t,e,n,i,s,wt(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:bt(t)?4:yt(t)?2:0,o,!0)};function Ps(t,e,n=!1){const{props:i,ref:s,patchFlag:o,children:r}=t,a=e?function(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=nt([e.class,i.class]));else if("style"===t)e.style=J([e.style,i.style]);else if(ht(t)){const n=e[t],s=i[t];!s||n===s||gt(n)&&n.includes(s)||(e[t]=n?[].concat(n,s):s)}else""!==t&&(e[t]=i[t])}return e}(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&ks(a),ref:e&&e.ref?n&&s?gt(s)?s.concat(Rs(e)):[s,Rs(e)]:Rs(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:r,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ms?-1===o?16:16|o:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ps(t.ssContent),ssFallback:t.ssFallback&&Ps(t.ssFallback),el:t.el,anchor:t.anchor}}function Fs(t=" ",e=0){return Us(vs,null,t,e)}function Ns(t="",e=!1){return e?(Cs(),Ss(Us(ys,null,t,n,i,!0))):Us(ys,null,t);var n,i}function Ds(t){return null==t||"boolean"==typeof t?Us(ys):gt(t)?Us(ms,null,t.slice()):"object"==typeof t?zs(t):Us(vs,null,String(t))}function zs(t){return null===t.el||t.memo?t:Ps(t)}function Zs(t,e){let n=0;const{shapeFlag:i}=t;if(null==e)e=null;else if(gt(e))n=16;else if("object"==typeof e){if(65&i){const n=e.default;return void(n&&(n._c&&(n._d=!1),Zs(t,n()),n._c&&(n._d=!0)))}{n=32;const i=e._;i||Ls in e?3===i&&$n&&(1===$n.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=$n}}else yt(e)?(e={default:e,_ctx:$n},n=32):(e=String(e),64&i?(n=16,e=[Fs(e)]):n=8);t.children=e,t.shapeFlag|=n}function js(t,e,n,i=null){hn(t,e,7,[n,i])}const Vs=cs();let Hs=0;let Bs=null;const $s=()=>Bs||$n,Ws=t=>{Bs=t,t.scope.on()},Gs=()=>{Bs&&Bs.scope.off(),Bs=null};function Ks(t){return 4&t.vnode.shapeFlag}let Xs=!1;function qs(t,e,n){yt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:bt(e)&&(__VUE_PROD_DEVTOOLS__&&(t.devtoolsRawSetupState=e),t.setupState=an(e)),Ys(t,n)}function Ys(t,e,n){const i=t.type;t.render||(t.render=i.render||at),__VUE_OPTIONS_API__&&(Ws(t),ie(),function(t){const e=Bi(t),n=t.proxy,i=t.ctx;ji=!1,e.beforeCreate&&Vi(e.beforeCreate,t,"bc");const{data:s,computed:o,methods:r,watch:a,provide:l,inject:c,created:h,beforeMount:u,mounted:d,beforeUpdate:_,updated:p,activated:f,deactivated:g,beforeDestroy:m,beforeUnmount:v,destroyed:y,unmounted:w,render:x,renderTracked:b,renderTriggered:C,errorCaptured:E,serverPrefetch:O,expose:S,inheritAttrs:T,components:A,directives:I,filters:L}=e;if(c&&function(t,e,n=at,i=!1){gt(t)&&(t=Ki(t));for(const n in t){const s=t[n];let o;o=bt(s)?"default"in s?Jn(s.from||n,s.default,!0):Jn(s.from||n):Jn(s),on(o)&&i?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:t=>o.value=t}):e[n]=o}}(c,i,null,t.appContext.config.unwrapInjectedRef),r)for(const t in r){const e=r[t];yt(e)&&(i[t]=e.bind(n))}if(s){const e=s.call(n,n);bt(e)&&(t.data=Ge(e))}if(ji=!0,o)for(const t in o){const e=o[t],s=yt(e)?e.bind(n,n):yt(e.get)?e.get.bind(n,n):at,r=!yt(e)&&yt(e.set)?e.set.bind(n):at,a=Qs({get:s,set:r});Object.defineProperty(i,t,{enumerable:!0,configurable:!0,get:()=>a.value,set:t=>a.value=t})}if(a)for(const t in a)Hi(a[t],i,n,t);if(l){const t=yt(l)?l.call(n):l;Reflect.ownKeys(t).forEach((e=>{!function(t,e){if(Bs){let n=Bs.provides;const i=Bs.parent&&Bs.parent.provides;i===n&&(n=Bs.provides=Object.create(i)),n[t]=e}}(e,t[e])}))}function k(t,e){gt(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(h&&Vi(h,t,"c"),k(xi,u),k(bi,d),k(Ci,_),k(Ei,p),k(fi,f),k(gi,g),k(Li,E),k(Ii,b),k(Ai,C),k(Oi,v),k(Si,w),k(Ti,O),gt(S))if(S.length){const e=t.exposed||(t.exposed={});S.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});x&&t.render===at&&(t.render=x),null!=T&&(t.inheritAttrs=T),A&&(t.components=A),I&&(t.directives=I)}(t),se(),Gs())}function Js(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(an(en(t.exposed)),{get:(e,n)=>n in e?e[n]:n in zi?zi[n](t):void 0}))}const Qs=(t,e)=>function(t,e,n=!1){let i,s;const o=yt(t);return o?(i=t,s=at):(i=t.get,s=t.set),new ln(i,s,o||!s,n)}(t,0,Xs);Symbol("");const to="3.2.37",eo="undefined"!=typeof document?document:null,no=eo&&eo.createElement("template"),io={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e?eo.createElementNS("http://www.w3.org/2000/svg",t):eo.createElement(t,n?{is:n}:void 0);return"select"===t&&i&&null!=i.multiple&&s.setAttribute("multiple",i.multiple),s},createText:t=>eo.createTextNode(t),createComment:t=>eo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>eo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,i,s,o){const r=n?n.previousSibling:e.lastChild;if(s&&(s===o||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),s!==o&&(s=s.nextSibling););else{no.innerHTML=i?`<svg>${t}</svg>`:t;const s=no.content;if(i){const t=s.firstChild;for(;t.firstChild;)s.appendChild(t.firstChild);s.removeChild(t)}e.insertBefore(s,n)}return[r?r.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},so=/\s*!important$/;function oo(t,e,n){if(gt(n))n.forEach((n=>oo(t,e,n)));else if(null==n&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=function(t,e){const n=ao[e];if(n)return n;let i=kt(e);if("filter"!==i&&i in t)return ao[e]=i;i=Ut(i);for(let n=0;n<ro.length;n++){const s=ro[n]+i;if(s in t)return ao[e]=s}return e}(t,e);so.test(n)?t.setProperty(Mt(i),n.replace(so,""),"important"):t[i]=n}}const ro=["Webkit","Moz","ms"],ao={},lo="http://www.w3.org/1999/xlink",[co,ho]=(()=>{let t=Date.now,e=!1;if("undefined"!=typeof window){Date.now()>document.createEvent("Event").timeStamp&&(t=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(n&&Number(n[1])<=53)}return[t,e]})();let uo=0;const _o=Promise.resolve(),po=()=>{uo=0};function fo(t,e,n,i){t.addEventListener(e,n,i)}const go=/(?:Once|Passive|Capture)$/,mo=/^on[a-z]/;"undefined"!=typeof HTMLElement&&HTMLElement;const vo="transition",yo="animation",wo=(t,{slots:e})=>function(t,e,n){const i=arguments.length;return 2===i?bt(e)&&!gt(e)?As(e)?Us(t,null,[e]):Us(t,e):Us(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&As(n)&&(n=[n]),Us(t,e,n))}(ri,function(t){const e={};for(const n in t)n in xo||(e[n]=t[n]);if(!1===t.css)return e;const{name:n="v",type:i,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:r=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:c=r,appearToClass:h=a,leaveFromClass:u=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:_=`${n}-leave-to`}=t,p=function(t){if(null==t)return null;if(bt(t))return[Eo(t.enter),Eo(t.leave)];{const e=Eo(t);return[e,e]}}(s),f=p&&p[0],g=p&&p[1],{onBeforeEnter:m,onEnter:v,onEnterCancelled:y,onLeave:w,onLeaveCancelled:x,onBeforeAppear:b=m,onAppear:C=v,onAppearCancelled:E=y}=e,O=(t,e,n)=>{So(t,e?h:a),So(t,e?c:r),n&&n()},S=(t,e)=>{t._isLeaving=!1,So(t,u),So(t,_),So(t,d),e&&e()},T=t=>(e,n)=>{const s=t?C:v,r=()=>O(e,t,n);bo(s,[e,r]),To((()=>{So(e,t?l:o),Oo(e,t?h:a),Co(s)||Io(e,i,f,r)}))};return dt(e,{onBeforeEnter(t){bo(m,[t]),Oo(t,o),Oo(t,r)},onBeforeAppear(t){bo(b,[t]),Oo(t,l),Oo(t,c)},onEnter:T(!1),onAppear:T(!0),onLeave(t,e){t._isLeaving=!0;const n=()=>S(t,e);Oo(t,u),document.body.offsetHeight,Oo(t,d),To((()=>{t._isLeaving&&(So(t,u),Oo(t,_),Co(w)||Io(t,i,g,n))})),bo(w,[t,n])},onEnterCancelled(t){O(t,!1),bo(y,[t])},onAppearCancelled(t){O(t,!0),bo(E,[t])},onLeaveCancelled(t){S(t),bo(x,[t])}})}(t),e);wo.displayName="Transition";const xo={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},bo=(wo.props=dt({},ri.props,xo),(t,e=[])=>{gt(t)?t.forEach((t=>t(...e))):t&&t(...e)}),Co=t=>!!t&&(gt(t)?t.some((t=>t.length>1)):t.length>1);function Eo(t){return zt(t)}function Oo(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function So(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function To(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let Ao=0;function Io(t,e,n,i){const s=t._endId=++Ao,o=()=>{s===t._endId&&i()};if(n)return setTimeout(o,n);const{type:r,timeout:a,propCount:l}=function(t,e){const n=window.getComputedStyle(t),i=t=>(n[t]||"").split(", "),s=i("transitionDelay"),o=i("transitionDuration"),r=Lo(s,o),a=i("animationDelay"),l=i("animationDuration"),c=Lo(a,l);let h=null,u=0,d=0;return e===vo?r>0&&(h=vo,u=r,d=o.length):e===yo?c>0&&(h=yo,u=c,d=l.length):(u=Math.max(r,c),h=u>0?r>c?vo:yo:null,d=h?h===vo?o.length:l.length:0),{type:h,timeout:u,propCount:d,hasTransform:h===vo&&/\b(transform|all)(,|$)/.test(n.transitionProperty)}}(t,e);if(!r)return i();const c=r+"end";let h=0;const u=()=>{t.removeEventListener(c,d),o()},d=e=>{e.target===t&&++h>=l&&u()};setTimeout((()=>{h<l&&u()}),a+1),t.addEventListener(c,d)}function Lo(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map(((e,n)=>ko(e)+ko(t[n]))))}function ko(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}new WeakMap,new WeakMap;const Ro=t=>{const e=t.props["onUpdate:modelValue"]||!1;return gt(e)?t=>Nt(e,t):e};function Mo(t){t.target.composing=!0}function Uo(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Po={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t._assign=Ro(s);const o=i||s.props&&"number"===s.props.type;fo(t,e?"change":"input",(e=>{if(e.target.composing)return;let i=t.value;n&&(i=i.trim()),o&&(i=zt(i)),t._assign(i)})),n&&fo(t,"change",(()=>{t.value=t.value.trim()})),e||(fo(t,"compositionstart",Mo),fo(t,"compositionend",Uo),fo(t,"change",Uo))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:s}},o){if(t._assign=Ro(o),t.composing)return;if(document.activeElement===t&&"range"!==t.type){if(n)return;if(i&&t.value.trim()===e)return;if((s||"number"===t.type)&&zt(t.value)===e)return}const r=null==e?"":e;t.value!==r&&(t.value=r)}},Fo={beforeMount(t,{value:e},{transition:n}){t._vod="none"===t.style.display?"":t.style.display,n&&e?n.beforeEnter(t):No(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),No(t,!0),i.enter(t)):i.leave(t,(()=>{No(t,!1)})):No(t,e))},beforeUnmount(t,{value:e}){No(t,e)}};function No(t,e){t.style.display=e?t._vod:"none"}const Do=dt({patchProp:(t,e,n,i,s=!1,o,r,a,l)=>{"class"===e?function(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}(t,i,s):"style"===e?function(t,e,n){const i=t.style,s=wt(n);if(n&&!s){for(const t in n)oo(i,t,n[t]);if(e&&!wt(e))for(const t in e)null==n[t]&&oo(i,t,"")}else{const o=i.display;s?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=o)}}(t,n,i):ht(e)?ut(e)||function(t,e,n,i,s=null){const o=t._vei||(t._vei={}),r=o[e];if(i&&r)r.value=i;else{const[n,a]=function(t){let e;if(go.test(t)){let n;for(e={};n=t.match(go);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[Mt(t.slice(2)),e]}(e);if(i){const r=o[e]=function(t,e){const n=t=>{const i=t.timeStamp||co();(ho||i>=n.attached-1)&&hn(function(t,e){if(gt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}(t,n.value),e,5,[t])};return n.value=t,n.attached=uo||(_o.then(po),uo=co()),n}(i,s);fo(t,n,r,a)}else r&&(function(t,e,n,i){t.removeEventListener(e,n,i)}(t,n,r,a),o[e]=void 0)}}(t,e,0,i,r):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):function(t,e,n,i){return i?"innerHTML"===e||"textContent"===e||!!(e in t&&mo.test(e)&&yt(n)):"spellcheck"!==e&&"draggable"!==e&&"translate"!==e&&("form"!==e&&(("list"!==e||"INPUT"!==t.tagName)&&(("type"!==e||"TEXTAREA"!==t.tagName)&&((!mo.test(e)||!wt(n))&&e in t))))}(t,e,i,s))?function(t,e,n,i,s,o,r){if("innerHTML"===e||"textContent"===e)return i&&r(i,s,o),void(t[e]=null==n?"":n);if("value"===e&&"PROGRESS"!==t.tagName&&!t.tagName.includes("-")){t._value=n;const i=null==n?"":n;return t.value===i&&"OPTION"!==t.tagName||(t.value=i),void(null==n&&t.removeAttribute(e))}let a=!1;if(""===n||null==n){const i=typeof t[e];"boolean"===i?n=Y(n):null==n&&"string"===i?(n="",a=!0):"number"===i&&(n=0,a=!0)}try{t[e]=n}catch(t){}a&&t.removeAttribute(e)}(t,e,i,o,r,a,l):("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),function(t,e,n,i,s){if(i&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(lo,e.slice(6,e.length)):t.setAttributeNS(lo,e,n);else{const i=q(e);null==n||i&&!Y(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}(t,e,i,s))}},io);let zo;const Zo={class:"fullscreen",style:{display:"flex","justify-content":"center","align-items":"center"}},jo={class:"fade-in-div"},Vo=Ms("canvas",{id:"options",style:{width:"100%",height:"100%"}},null,-1),Ho={class:"fullscreen",style:{display:"flex","flex-direction":"row","align-items":"center","justify-content":"center"}},Bo={style:{"text-align":"center"}},$o={style:{"text-align":"center"}},Wo={class:"fullscreen",style:{"overflow-y":"scroll"}},Go=[Ms("canvas",{id:"result",style:{width:"100%"}},null,-1),Ms("img",{id:"result-img"},null,-1)],Ko={style:{margin:"0px",padding:"0px"}},Xo={style:{"border-color":"#CCCCCC","border-width":"0 0 1px 0","border-style":"dashed","list-style-type":"none",color:"#666666","font-size":"14.5px",display:"flex"}},qo={style:{"flex-grow":"1","margin-left":"4px"}},Yo=["src","onClick"],Jo=n(309),Qo={props:["selected_choices","header_height"],data:function(){return{delete_src:c.images.choices_delete.path}},methods:{on_click_delete:function(t){this.$emit("clickdelete",t),Jo("stage1").emit("deselect-choice",t)}},mounted:function(){}};var tr=n(744);const er=(0,tr.Z)(Qo,[["render",function(t,e,n,i,s,o){return Cs(),Ts("div",{style:J([{"border-radius":"16px","background-color":"#f2eaf4","z-index":"30",position:"fixed",left:"51.94%",height:"50%",width:"40.74%","padding-top":"16px","padding-bottom":"16px","overflow-y":"scroll","overflow-x":"hidden"},{top:n.header_height+"px"}])},[Ms("div",null,[Ms("ul",Ko,[(Cs(!0),Ts(ms,null,Ni(n.selected_choices,(e=>(Cs(),Ts("li",Xo,[Ms("span",qo,it(e.text),1),Ms("img",{src:t.delete_src,onClick:t=>o.on_click_delete(e.id),style:{width:"14.5px",height:"14.5px","margin-top":"3px","margin-right":"4px"}},null,8,Yo)])))),256))])])],4)}]]),nr={style:{position:"fixed",width:"100%"},id:"choices-header"},ir=["src"],sr={style:{position:"absolute",width:"100%","z-index":"20"},xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",viewBox:"0 0 1560 300",id:"choices-header-svg"},or={"text-anchor":"end",x:"1400",y:"230",class:"big"},rr={x:"1450",y:"235",class:"small"},ar={props:["selected","total"],data:()=>({background:c.images.choices_header.path,height:!1,additional:""}),methods:{on_basket_toggle:function(){this.$emit("toggle-basket")}},watch:{height:function(){this.$emit("resize-height",this.height)}},mounted:function(){setInterval((()=>function(t){const e=document.getElementById("choices-header"),n=document.getElementById("choices-header-bg").getBoundingClientRect().height;e.style.height=`${n}px`,t.height=n}(this)),100)}},lr=(0,tr.Z)(ar,[["render",function(t,e,n,i,s,o){return Cs(),Ts("div",nr,[Ms("img",{style:{position:"absolute",width:"100%","z-index":"10"},src:s.background,id:"choices-header-bg"},null,8,ir),(Cs(),Ts("svg",sr,[Ms("text",or,it(n.selected),1),Ms("text",rr,it(n.total),1),Ms("rect",{width:"285",height:"240",x:"1230",y:"35",fill:"transparent",stroke:"transparent",onTouchend:e[0]||(e[0]=(...t)=>o.on_basket_toggle&&o.on_basket_toggle(...t))},null,32)])),Ns('<input id="add-item-input" v-model="additional" type="text" placeholder="手动添加更多成就"/>')])}]]),cr={style:{position:"fixed",bottom:"0",width:"100%",display:"flex","flex-direction":"row"},class:"fade-in-div"},hr=["src"],{images:ur}=n(930),dr={props:["selected","total"],data:function(){return{btn_done_background:ur["footer-btn-done"]}},methods:{on_click:function(t){this.$emit("click"),t.preventDefault()}},mounted:function(){}},_r={id:"bgm",autoplay:"autoplay",loop:""},pr=["src"],fr={data:()=>({bgm:"./data/bgm.ogg",playing:!1}),methods:{play(){console.log("music start"),this.playing||(document.getElementById("bgm").play(),this.playing=!0)}}},gr={id:"touchaudio"},mr=["src"],vr={data:()=>({src:"./data/touch-audio.ogg"}),methods:{play(){document.getElementById("touchaudio").play()}}},yr={data:()=>({username:"",init_percent:0,init_done:!1,intro_done:!1,choices_done:!1,countries_done:!1,name_done:!1,total_choices:o.length,selected_choices:[],show_basket:!1,header_height:!1}),methods:{on_choices_header_resized:function(t){D(t),this.header_height=t},play_music(){this.$refs.bgm.play()},play_touch_audio(){this.$refs.touchaudio.play()},on_basket_click_delete(t){const e=JSON.parse(JSON.stringify(this.selected_choices)).filter((e=>e.id!=t));this.selected_choices=e}},components:{ChoicesBasket:er,ChoicesHeader:lr,ChoicesFooter:(0,tr.Z)(dr,[["render",function(t,e,n,i,s,o){return Cs(),Ts("div",cr,[Ms("div",{style:{"flex-basis":"25%"},id:"footer-btn-done",onClick:e[0]||(e[0]=(...t)=>o.on_click&&o.on_click(...t))},[Ms("img",{src:t.btn_done_background,style:{"max-width":"100%"}},null,8,hr)])])}]]),Bgm:(0,tr.Z)(fr,[["render",function(t,e,n,i,s,o){return Cs(),Ts("audio",_r,[Ms("source",{src:s.bgm},null,8,pr)])}]]),TouchAudio:(0,tr.Z)(vr,[["render",function(t,e,n,i,s,o){return Cs(),Ts("audio",gr,[Ms("source",{src:s.src},null,8,mr)])}]])}},wr=((...t)=>{const e=(zo||(zo=ps(Do))).createApp(...t),{mount:n}=e;return e.mount=t=>{const i=function(t){return wt(t)?document.querySelector(t):t}(t);if(!i)return;const s=e._component;yt(s)||s.render||s.template||(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e})((0,tr.Z)(yr,[["render",function(t,e,n,i,s,o){const r=Ui("choices-header"),a=Ui("choices-basket"),l=Ui("Bgm"),c=Ui("TouchAudio");return Cs(),Ts("div",null,[ki(Ms("div",Zo,[Ms("div",null,it(s.init_percent)+"% ",1)],512),[[Fo,!s.init_done]]),ki(Ms("div",{class:"fullscreen",onTouchend:e[1]||(e[1]=(...t)=>o.play_music&&o.play_music(...t))},[ki(Ms("div",jo,[Us(r,{selected:s.selected_choices.length,total:s.total_choices,onResizeHeight:o.on_choices_header_resized,onToggleBasket:e[0]||(e[0]=t=>s.show_basket=!s.show_basket)},null,8,["selected","total","onResizeHeight"]),ki(Us(a,{selected_choices:s.selected_choices,header_height:s.header_height,onClickdelete:o.on_basket_click_delete},null,8,["selected_choices","header_height","onClickdelete"]),[[Fo,s.show_basket]]),Ns('<choices-footer\n                v-bind:selected="selected_choices.length"\n                v-bind:total="total_choices"\n                v-on:click="choices_done=true"\n            ></choices-footer>  ')],512),[[Fo,s.intro_done&&!s.choices_done]]),Vo],544),[[Fo,s.init_done&&!(s.intro_done&&s.choices_done&&s.countries_done&&s.name_done)]]),ki(Ms("div",Ho,[Ms("div",null,[Ms("div",Bo,[ki(Ms("input",{class:"name-input-box",placeholder:"请输入名字",type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>s.username=t)},null,512),[[Po,s.username]])]),Ms("div",$o,[Ms("button",{onClick:e[3]||(e[3]=t=>s.name_done=!0)},"查看结果")])])],512),[[Fo,s.init_done&&s.choices_done&&s.countries_done&&!s.name_done]]),ki(Ms("div",Wo,Go,512),[[Fo,s.init_done&&s.choices_done&&s.countries_done&&s.name_done]]),Us(l,{ref:"bgm"},null,512),Us(c,{ref:"touchaudio"},null,512)])}]])).mount("#app");let xr=[],br=[];function Cr(t){let e=o.filter((e=>t.indexOf(e.id)>=0));wr.selected_choices=e,xr=e.map((t=>t.id))}function Er(){wr.intro_done=!0}function Or(t){wr.choices_done=!0,xr=t}function Sr(t){wr.countries_done=!0,br=t}!async function(){document.getElementById("app").style.display="block",await(0,c.assure_loaded)((function(t){wr.init_percent=t})),wr.init_done=!0;const t=document.getElementById("options");u.Z.setup_canvas(t,window.innerWidth,window.innerHeight);const e=await async function(t){return new h(t,await(0,c.get_image)("bgcolor"))}(t);console.log("Stage #1"),await O({canvas:t,bgcontroller:e,callback:Er,app:wr}),console.log("Stage #2"),await N({canvas:t,bgcontroller:e,callback:Cr,callback_done:Or,app:wr}),console.log("Stage #3"),await B({canvas:t,bgcontroller:e,callback_done:Sr,app:wr}),console.log("Stage #4"),await W({canvas:t,bgcontroller:e,app:wr}),console.log("Stage #5"),K({canvas:document.getElementById("result"),app:wr,result_choices:xr,result_countries:br})}()})()})();